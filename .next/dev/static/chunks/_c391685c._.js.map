{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Arthu/Downloads/ribeirxlog%20app/contexts/AppModeContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useMemo } from 'react';\r\nimport { UserProfile } from '../types';\r\n\r\ntype AppMode = 'simple' | 'intermediate' | 'advanced' | 'custom';\r\n\r\ninterface FeatureFlags {\r\n    canAccessTires: boolean;\r\n    canAccessBI: boolean;\r\n    canAccessFullMaintenance: boolean;\r\n    canAccessSociety: boolean;\r\n    canAccessFinanceComplex: boolean;\r\n    canAccessDriverMgmt: boolean;\r\n    canAutoValidateDocs: boolean;\r\n}\r\n\r\ninterface AppModeContextType {\r\n    mode: AppMode;\r\n    features: FeatureFlags;\r\n    isSimpleMode: boolean;\r\n    isAdvancedMode: boolean;\r\n}\r\n\r\nconst AppModeContext = createContext<AppModeContextType | undefined>(undefined);\r\n\r\nexport const AppModeProvider: React.FC<{ profile: UserProfile, children: React.ReactNode }> = ({ profile, children }) => {\r\n    const mode = profile.config.appMode || 'advanced'; // Default to advanced if not set\r\n    const customFeatures = profile.config.enabledFeatures || [];\r\n\r\n    const features = useMemo(() => {\r\n        let flags: FeatureFlags = {\r\n            canAccessTires: false,\r\n            canAccessBI: false,\r\n            canAccessFullMaintenance: false,\r\n            canAccessSociety: false,\r\n            canAccessFinanceComplex: false,\r\n            canAccessDriverMgmt: false,\r\n            canAutoValidateDocs: false\r\n        };\r\n\r\n        switch (mode) {\r\n            case 'simple':\r\n                flags = {\r\n                    canAccessTires: false,\r\n                    canAccessBI: false, // Simple Dashboard only\r\n                    canAccessFullMaintenance: false, // Checklist only\r\n                    canAccessSociety: false,\r\n                    canAccessFinanceComplex: false, // Basic Cashflow\r\n                    canAccessDriverMgmt: false, // Auto-sets driver\r\n                    canAutoValidateDocs: false\r\n                };\r\n                break;\r\n            case 'intermediate':\r\n                flags = {\r\n                    canAccessTires: false,\r\n                    canAccessBI: true, // Intermediate charts\r\n                    canAccessFullMaintenance: true, // Basic history\r\n                    canAccessSociety: false,\r\n                    canAccessFinanceComplex: false,\r\n                    canAccessDriverMgmt: true,\r\n                    canAutoValidateDocs: true\r\n                };\r\n                break;\r\n            case 'advanced':\r\n                flags = {\r\n                    canAccessTires: true,\r\n                    canAccessBI: true,\r\n                    canAccessFullMaintenance: true,\r\n                    canAccessSociety: true,\r\n                    canAccessFinanceComplex: true,\r\n                    canAccessDriverMgmt: true,\r\n                    canAutoValidateDocs: true\r\n                };\r\n                break;\r\n            case 'custom':\r\n                flags = {\r\n                    canAccessTires: customFeatures.includes('tires'),\r\n                    canAccessBI: customFeatures.includes('bi'),\r\n                    canAccessFullMaintenance: customFeatures.includes('maintenance'),\r\n                    canAccessSociety: customFeatures.includes('society'),\r\n                    canAccessFinanceComplex: customFeatures.includes('finance'),\r\n                    canAccessDriverMgmt: customFeatures.includes('drivers'),\r\n                    canAutoValidateDocs: customFeatures.includes('docs')\r\n                };\r\n                break;\r\n        }\r\n        return flags;\r\n    }, [mode, customFeatures]);\r\n\r\n    const value = {\r\n        mode,\r\n        features,\r\n        isSimpleMode: mode === 'simple',\r\n        isAdvancedMode: mode === 'advanced'\r\n    };\r\n\r\n    return (\r\n        <AppModeContext.Provider value={value}>\r\n            {children}\r\n        </AppModeContext.Provider>\r\n    );\r\n};\r\n\r\nexport const useAppMode = () => {\r\n    const context = useContext(AppModeContext);\r\n    if (!context) {\r\n        throw new Error('useAppMode must be used within an AppModeProvider');\r\n    }\r\n    return context;\r\n};\r\n"],"names":[],"mappings":";;;;;;;AAAA;;;;AAsBA,MAAM,+BAAiB,IAAA,8KAAa,EAAiC;AAE9D,MAAM,kBAAiF,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAE;;IAChH,MAAM,OAAO,QAAQ,MAAM,CAAC,OAAO,IAAI,YAAY,iCAAiC;IACpF,MAAM,iBAAiB,QAAQ,MAAM,CAAC,eAAe,IAAI,EAAE;IAE3D,MAAM,WAAW,IAAA,wKAAO;6CAAC;YACrB,IAAI,QAAsB;gBACtB,gBAAgB;gBAChB,aAAa;gBACb,0BAA0B;gBAC1B,kBAAkB;gBAClB,yBAAyB;gBACzB,qBAAqB;gBACrB,qBAAqB;YACzB;YAEA,OAAQ;gBACJ,KAAK;oBACD,QAAQ;wBACJ,gBAAgB;wBAChB,aAAa;wBACb,0BAA0B;wBAC1B,kBAAkB;wBAClB,yBAAyB;wBACzB,qBAAqB;wBACrB,qBAAqB;oBACzB;oBACA;gBACJ,KAAK;oBACD,QAAQ;wBACJ,gBAAgB;wBAChB,aAAa;wBACb,0BAA0B;wBAC1B,kBAAkB;wBAClB,yBAAyB;wBACzB,qBAAqB;wBACrB,qBAAqB;oBACzB;oBACA;gBACJ,KAAK;oBACD,QAAQ;wBACJ,gBAAgB;wBAChB,aAAa;wBACb,0BAA0B;wBAC1B,kBAAkB;wBAClB,yBAAyB;wBACzB,qBAAqB;wBACrB,qBAAqB;oBACzB;oBACA;gBACJ,KAAK;oBACD,QAAQ;wBACJ,gBAAgB,eAAe,QAAQ,CAAC;wBACxC,aAAa,eAAe,QAAQ,CAAC;wBACrC,0BAA0B,eAAe,QAAQ,CAAC;wBAClD,kBAAkB,eAAe,QAAQ,CAAC;wBAC1C,yBAAyB,eAAe,QAAQ,CAAC;wBACjD,qBAAqB,eAAe,QAAQ,CAAC;wBAC7C,qBAAqB,eAAe,QAAQ,CAAC;oBACjD;oBACA;YACR;YACA,OAAO;QACX;4CAAG;QAAC;QAAM;KAAe;IAEzB,MAAM,QAAQ;QACV;QACA;QACA,cAAc,SAAS;QACvB,gBAAgB,SAAS;IAC7B;IAEA,qBACI,6LAAC,eAAe,QAAQ;QAAC,OAAO;kBAC3B;;;;;;AAGb;GA5Ea;KAAA;AA8EN,MAAM,aAAa;;IACtB,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACV,MAAM,IAAI,MAAM;IACpB;IACA,OAAO;AACX;IANa"}},
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Arthu/Downloads/ribeirxlog%20app/components/Sidebar.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport {\r\n  LayoutDashboard,\r\n  Truck,\r\n  TrendingUp,\r\n  Settings,\r\n  PlusCircle,\r\n  Users,\r\n  ShieldAlert,\r\n  LogOut,\r\n  CreditCard,\r\n  Disc,\r\n  Brain,\r\n  ShieldCheck\r\n} from 'lucide-react';\r\nimport { UserButton, useAuth } from \"@clerk/nextjs\";\r\nimport { useAppMode } from '../contexts/AppModeContext';\r\nimport { TabType, UserProfile } from '../types';\r\n\r\ninterface SidebarProps {\r\n  activeTab: TabType;\r\n  setActiveTab: (tab: TabType) => void;\r\n  profile: UserProfile;\r\n}\r\n\r\nconst Sidebar: React.FC<SidebarProps> = ({ activeTab, setActiveTab, profile }) => {\r\n  const { features } = useAppMode();\r\n  const { signOut } = useAuth();\r\n\r\n  const menuItems = [\r\n    // ... existing items ...\r\n    { id: 'dashboard', label: 'Dashboard', icon: LayoutDashboard },\r\n    { id: 'trips', label: 'Viagens', icon: Truck },\r\n    { id: 'performance', label: 'BI & Performance', icon: TrendingUp, hidden: !features.canAccessBI },\r\n    { id: 'maintenance', label: 'Saúde da Frota', icon: ShieldAlert, hidden: !features.canAccessFullMaintenance },\r\n    { id: 'tires', label: 'Gestão de Pneus', icon: Disc, hidden: !features.canAccessTires },\r\n    { id: 'intelligence', label: 'Inteligência', icon: Brain },\r\n    { id: 'setup', label: 'Cadastros', icon: Users },\r\n    { id: 'subscription', label: 'Assinatura', icon: CreditCard },\r\n    { id: 'admin', label: 'Administração', icon: ShieldCheck, hidden: !['arthur@ribeirxlog.com', 'arthur.ribeirx@gmail.com'].includes(profile.email?.trim().toLowerCase() || '') },\r\n  ];\r\n\r\n  const adminEmails = ['arthur@ribeirxlog.com', 'arthur.ribeirx@gmail.com'];\r\n  const isAdmin = adminEmails.includes(profile.email?.trim().toLowerCase() || '');\r\n\r\n  return (\r\n    <div className=\"w-64 bg-slate-900 border-r border-slate-800 flex flex-col h-screen fixed left-0 top-0 overflow-y-auto hidden md:flex z-50\">\r\n      <div className=\"p-6\">\r\n        <div className=\"flex items-center gap-3 mb-8\">\r\n          <div className=\"w-10 h-10 bg-emerald-500 rounded-xl flex items-center justify-center shadow-lg shadow-emerald-500/20\">\r\n            <Truck className=\"text-white w-6 h-6\" />\r\n          </div>\r\n          <div>\r\n            <span className=\"font-black text-xl tracking-tighter text-white\">RIBEIRX<span className=\"text-emerald-500\">LOG</span></span>\r\n            <p className=\"text-[9px] font-bold text-slate-500 tracking-widest uppercase\">Inteligência Logística</p>\r\n          </div>\r\n        </div>\r\n\r\n        <nav className=\"space-y-1.5\">\r\n          <p className=\"text-[10px] font-black text-slate-600 uppercase tracking-widest mb-4 ml-2\">Main Navigation</p>\r\n          {menuItems.filter(item => !item.hidden).map((item) => {\r\n            const Icon = item.icon;\r\n            const isLocked = profile.payment_status !== 'paid' &&\r\n              !['subscription', 'settings', 'admin', 'intelligence'].includes(item.id) &&\r\n              !isAdmin;\r\n            return (\r\n              <button\r\n                key={item.id}\r\n                onClick={() => setActiveTab(item.id as TabType)}\r\n                className={`w-full group flex items-center justify-between px-4 py-3 rounded-xl transition-all duration-300 ${activeTab === item.id\r\n                  ? 'bg-emerald-500/10 text-emerald-500 border border-emerald-500/20'\r\n                  : 'text-slate-400 hover:bg-slate-800/50 hover:text-slate-100'\r\n                  } ${isLocked ? 'opacity-50 cursor-not-allowed' : ''}`}\r\n              >\r\n                <div className=\"flex items-center gap-3\">\r\n                  <Icon className={`w-5 h-5 transition-transform duration-300 ${activeTab === item.id ? 'scale-110' : 'group-hover:scale-110'}`} />\r\n                  <span className=\"font-bold text-sm\">{item.label}</span>\r\n                </div>\r\n                {isLocked && <ShieldAlert className=\"w-4 h-4 text-slate-500 group-hover:text-amber-500 transition-colors\" />}\r\n                {activeTab === item.id && <div className=\"w-1.5 h-1.5 rounded-full bg-emerald-500 shadow-lg shadow-emerald-500/50\" />}\r\n              </button>\r\n            );\r\n          })}\r\n        </nav>\r\n      </div>\r\n\r\n      <div className=\"mt-auto p-6 space-y-4\">\r\n        <button\r\n          onClick={() => setActiveTab('new-trip')}\r\n          className={`w-full flex items-center justify-center gap-2 font-black py-4 rounded-2xl transition-all shadow-xl hover:scale-[1.02] active:scale-95 ${activeTab === 'new-trip'\r\n            ? 'bg-sky-500 text-white shadow-sky-500/30'\r\n            : 'bg-emerald-500 hover:bg-emerald-600 text-white shadow-emerald-500/30'\r\n            }`}\r\n        >\r\n          <PlusCircle className=\"w-5 h-5\" />\r\n          Novo Lançamento\r\n        </button>\r\n\r\n        <div className=\"p-4 bg-slate-800/40 border border-slate-700/50 rounded-2xl flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <UserButton afterSignOutUrl=\"/\" appearance={{ elements: { avatarBox: \"w-10 h-10 rounded-xl\" } }} />\r\n            <div className=\"flex flex-col\">\r\n              <span className=\"text-xs font-black text-white truncate w-24\">{profile.name || 'Usuário'}</span>\r\n              <span className=\"text-[10px] font-bold text-slate-500 uppercase tracking-tighter\">Conta Grátis</span>\r\n            </div>\r\n          </div>\r\n          <button onClick={() => signOut()} className=\"p-2 text-slate-500 hover:text-rose-500 transition-colors\">\r\n            <LogOut className=\"w-4 h-4\" />\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"pt-2 flex flex-col items-center\">\r\n          <p className=\"text-[10px] font-black text-slate-700 tracking-[0.3em] uppercase\">v1.6.0</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 485, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Arthu/Downloads/ribeirxlog%20app/components/Header.tsx"],"sourcesContent":["\r\nimport React, { useState } from 'react';\r\nimport {\r\n  Bell, Search, HelpCircle, User, X, AlertTriangle, ChevronRight, RefreshCcw,\r\n  Share2\r\n} from 'lucide-react';\r\nimport { UserProfile, AppNotification, TabType } from '../types';\r\n\r\ninterface HeaderProps {\r\n  profile: UserProfile;\r\n  notifications: AppNotification[];\r\n  onReadNotification: (id: string) => void;\r\n  setActiveTab: (tab: TabType) => void;\r\n  activeTab: TabType;\r\n  onRefresh?: () => void;\r\n}\r\n\r\nconst Header: React.FC<HeaderProps> = ({ profile, notifications, onReadNotification, setActiveTab, activeTab, onRefresh }) => {\r\n  const [showNotifications, setShowNotifications] = useState(false);\r\n  const [showFaq, setShowFaq] = useState(false);\r\n  const unreadCount = notifications.filter(n => !n.read).length;\r\n\r\n  return (\r\n    <header className=\"h-20 border-b border-slate-800 bg-slate-900/50 backdrop-blur-xl flex items-center justify-between px-8 sticky top-0 z-[100] md:ml-64\">\r\n      <div className=\"flex items-center gap-4 flex-1\">\r\n        {activeTab === 'trips' && (\r\n          <div className=\"hidden lg:flex items-center gap-3 px-5 py-2.5 bg-slate-800/50 rounded-2xl border border-slate-700/50 w-96 group focus-within:border-emerald-500/50 transition-all\">\r\n            <Search className=\"w-4 h-4 text-slate-500 group-focus-within:text-emerald-500\" />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Pesquisar placa, motorista ou identificador...\"\r\n              className=\"bg-transparent text-xs text-slate-200 outline-none w-full font-medium\"\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"flex items-center gap-6\">\r\n        <div className=\"flex items-center gap-1\">\r\n          <div className=\"relative\">\r\n            <button\r\n              onClick={() => setShowNotifications(!showNotifications)}\r\n              className={`p-3 rounded-2xl transition-all relative ${showNotifications ? 'bg-slate-800 text-white' : 'text-slate-400 hover:text-white hover:bg-slate-800'}`}\r\n            >\r\n              <Bell className=\"w-5 h-5\" />\r\n              {unreadCount > 0 && (\r\n                <span className=\"absolute top-2.5 right-2.5 w-4 h-4 bg-rose-500 rounded-full border-2 border-slate-900 text-[8px] font-black text-white flex items-center justify-center animate-pulse\">\r\n                  {unreadCount}\r\n                </span>\r\n              )}\r\n            </button>\r\n\r\n            {/* Dropdown de Notificações */}\r\n            {showNotifications && (\r\n              <div className=\"fixed md:absolute inset-x-4 md:inset-x-auto right-auto md:right-0 top-20 md:top-auto md:mt-4 md:w-80 bg-slate-900 border border-slate-800 rounded-3xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200 z-[110]\">\r\n                <header className=\"p-5 border-b border-slate-800 flex items-center justify-between\">\r\n                  <h4 className=\"text-xs font-black text-white uppercase tracking-widest\">Central de Avisos</h4>\r\n                  <button onClick={() => setShowNotifications(false)} className=\"p-1 hover:bg-slate-800 rounded-lg\">\r\n                    <X className=\"w-4 h-4 text-slate-500\" />\r\n                  </button>\r\n                </header>\r\n                <div className=\"max-h-[400px] overflow-y-auto\">\r\n                  {notifications.length > 0 ? (\r\n                    notifications.map(n => (\r\n                      <div\r\n                        key={n.id}\r\n                        onClick={() => onReadNotification(n.id)}\r\n                        className={`p-5 border-b border-slate-800 last:border-0 cursor-pointer hover:bg-slate-800/50 transition-colors ${n.read ? 'opacity-60' : ''}`}\r\n                      >\r\n                        <div className=\"flex gap-3\">\r\n                          <div className={`w-8 h-8 rounded-xl flex items-center justify-center shrink-0 ${n.type === 'payment_delay' ? 'bg-rose-500/10 text-rose-500' : 'bg-sky-500/10 text-sky-500'}`}>\r\n                            <AlertTriangle className=\"w-4 h-4\" />\r\n                          </div>\r\n                          <div className=\"space-y-1\">\r\n                            <p className=\"text-xs font-black text-white\">{n.title}</p>\r\n                            <p className=\"text-[10px] text-slate-400 leading-relaxed\">{n.message}</p>\r\n                            <p className=\"text-[9px] font-bold text-slate-600 uppercase mt-2\">{new Date(n.date).toLocaleDateString()}</p>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))\r\n                  ) : (\r\n                    <div className=\"p-10 text-center space-y-3\">\r\n                      <div className=\"w-12 h-12 bg-slate-800 rounded-full flex items-center justify-center mx-auto text-slate-600\">\r\n                        <Bell className=\"w-6 h-6\" />\r\n                      </div>\r\n                      <p className=\"text-xs font-bold text-slate-500\">Tudo limpo por aqui!</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"relative\">\r\n            <button\r\n              onClick={() => setShowFaq(!showFaq)}\r\n              className={`p-3 rounded-2xl transition-all relative ${showFaq ? 'bg-emerald-500 text-white shadow-lg shadow-emerald-500/20' : 'text-slate-400 hover:text-white hover:bg-slate-800'}`}\r\n            >\r\n              <HelpCircle className=\"w-5 h-5\" />\r\n            </button>\r\n\r\n            {/* Creative FAQ Modal */}\r\n            {showFaq && (\r\n              <div className=\"fixed md:absolute inset-x-4 md:inset-x-auto right-auto md:right-0 top-20 md:top-auto md:mt-4 md:w-96 bg-slate-900 border border-slate-800 rounded-3xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200 z-[110]\">\r\n                <div className=\"h-32 bg-gradient-to-br from-emerald-600 to-teal-800 relative p-6 flex flex-col justify-end overflow-hidden group\">\r\n                  <div className=\"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-2xl -translate-y-1/2 translate-x-1/2\" />\r\n                  <h3 className=\"text-xl font-black text-white relative z-10\">Central de Ajuda</h3>\r\n                  <p className=\"text-emerald-100 text-xs font-medium relative z-10\">Tire suas dúvidas ou entre em contato</p>\r\n                </div>\r\n\r\n                <div className=\"p-6 space-y-6 max-h-[500px] overflow-y-auto\">\r\n                  {/* Contact Card */}\r\n                  <div className=\"bg-slate-800/50 rounded-2xl p-4 border border-slate-700/50 flex items-center gap-4\">\r\n                    <div className=\"w-12 h-12 rounded-full bg-emerald-500 flex items-center justify-center shrink-0 shadow-lg shadow-emerald-500/20\">\r\n                      <User className=\"w-6 h-6 text-white\" />\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-[10px] font-bold text-slate-400 uppercase tracking-wider\">Suporte Direto</p>\r\n                      <p className=\"text-sm font-bold text-white\">Arthur Ribeiro</p>\r\n                      <a href=\"mailto:arthur.ribeirx@gmail.com\" className=\"text-xs text-emerald-400 hover:underline\">arthur.ribeirx@gmail.com</a>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"space-y-4\">\r\n                    <p className=\"text-xs font-black text-slate-500 uppercase tracking-widest pl-1\">Perguntas Frequentes</p>\r\n\r\n                    {[\r\n                      { q: \"Como a IA calcula previsões?\", a: \"Utilizamos algoritmos locais baseados no histórico dos últimos 6 meses de viagens.\" },\r\n                      { q: \"Posso adicionar motoristas?\", a: \"Sim, através da aba 'Cadastros' > 'Motoristas'. Documentação válida é obrigatória.\" },\r\n                      { q: \"O sistema funciona offline?\", a: \"Parcialmente. Você pode visualizar dados cacheados, mas precisa de internet para sincronizar.\" }\r\n                    ].map((item, i) => (\r\n                      <div key={i} className=\"group cursor-pointer\">\r\n                        <h5 className=\"text-sm font-bold text-slate-300 group-hover:text-emerald-400 transition-colors mb-1 flex items-center justify-between\">\r\n                          {item.q}\r\n                          <ChevronRight className=\"w-3 h-3 text-slate-600 group-hover:text-emerald-500 transition-transform group-hover:translate-x-1\" />\r\n                        </h5>\r\n                        <p className=\"text-xs text-slate-500 leading-relaxed\">{item.a}</p>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"bg-slate-950 p-3 text-center border-t border-slate-800\">\r\n                  <button onClick={() => setShowFaq(false)} className=\"text-xs font-bold text-slate-500 hover:text-white transition-colors\">Fechar Central</button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-3\">\r\n          {onRefresh && (\r\n            <button\r\n              onClick={onRefresh}\r\n              className=\"w-10 h-10 rounded-xl bg-slate-900 border border-slate-800 flex items-center justify-center text-slate-400 hover:text-emerald-500 transition-all hover:border-emerald-500/30 group hidden md:flex\"\r\n              title=\"Forçar Atualização\"\r\n            >\r\n              <RefreshCcw className=\"w-5 h-5 group-hover:rotate-180 transition-transform duration-500\" />\r\n            </button>\r\n          )}\r\n\r\n          <button\r\n            onClick={() => {\r\n              if (navigator.share) {\r\n                navigator.share({\r\n                  title: 'Ribeirx Log ERP',\r\n                  text: 'Estou usando o Ribeirx Log para gerenciar minha logística. É sensacional!',\r\n                  url: window.location.origin\r\n                }).catch(err => console.log('Error sharing', err));\r\n              } else {\r\n                window.open(`https://wa.me/?text=Estou usando o Ribeirx Log para gerenciar minha logística. Veja aqui: ${window.location.origin}`, '_blank');\r\n              }\r\n            }}\r\n            className=\"w-10 h-10 rounded-xl bg-slate-900 border border-slate-800 flex items-center justify-center text-slate-400 hover:text-emerald-500 transition-all hover:border-emerald-500/30 group\"\r\n            title=\"Compartilhar App\"\r\n          >\r\n            <Share2 className=\"w-5 h-5 group-hover:scale-110 transition-transform\" />\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => setActiveTab('settings')}\r\n            className=\"flex items-center gap-3 py-1.5 pl-1.5 pr-4 bg-slate-900 border border-slate-800 rounded-2xl hover:bg-slate-800/80 transition-all group\"\r\n          >\r\n            <div className=\"text-right hidden sm:block\">\r\n              <div className=\"flex items-center justify-end gap-2\">\r\n                <span className={`px-1.5 py-0.5 rounded text-[7px] font-black uppercase ${profile.payment_status === 'paid' ? 'bg-emerald-500/20 text-emerald-500' : 'bg-amber-500/20 text-amber-500'}`}>\r\n                  {profile.plan_type || 'Sem Plano'}\r\n                </span>\r\n                <p className=\"text-xs font-black text-white group-hover:text-emerald-400 transition-colors\">{profile.name}</p>\r\n              </div>\r\n              <p className=\"text-[9px] font-bold text-slate-500 uppercase tracking-tighter\">{profile.companyName}</p>\r\n            </div>\r\n            <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-emerald-400 to-emerald-600 flex items-center justify-center text-xs font-black text-emerald-950 shadow-lg shadow-emerald-500/20 border-2 border-slate-900 overflow-hidden\">\r\n              {profile.logoUrl ? (\r\n                <img src={profile.logoUrl} className=\"w-full h-full object-cover\" />\r\n              ) : (\r\n                profile.name.split(' ').map(n => n[0]).join('')\r\n              )}\r\n            </div>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;AAeA,MAAM,SAAgC,CAAC,EAAE,OAAO,EAAE,aAAa,EAAE,kBAAkB,EAAE,YAAY,EAAE,SAAS,EAAE,SAAS,EAAE;;IACvH,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,yKAAQ,EAAC;IAC3D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,cAAc,cAAc,MAAM,CAAC,CAAA,IAAK,CAAC,EAAE,IAAI,EAAE,MAAM;IAE7D,qBACE,6LAAC;QAAO,WAAU;;0BAChB,6LAAC;gBAAI,WAAU;0BACZ,cAAc,yBACb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,mNAAM;4BAAC,WAAU;;;;;;sCAClB,6LAAC;4BACC,MAAK;4BACL,aAAY;4BACZ,WAAU;;;;;;;;;;;;;;;;;0BAMlB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCACC,SAAS,IAAM,qBAAqB,CAAC;wCACrC,WAAW,CAAC,wCAAwC,EAAE,oBAAoB,4BAA4B,sDAAsD;;0DAE5J,6LAAC,6MAAI;gDAAC,WAAU;;;;;;4CACf,cAAc,mBACb,6LAAC;gDAAK,WAAU;0DACb;;;;;;;;;;;;oCAMN,mCACC,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAO,WAAU;;kEAChB,6LAAC;wDAAG,WAAU;kEAA0D;;;;;;kEACxE,6LAAC;wDAAO,SAAS,IAAM,qBAAqB;wDAAQ,WAAU;kEAC5D,cAAA,6LAAC,oMAAC;4DAAC,WAAU;;;;;;;;;;;;;;;;;0DAGjB,6LAAC;gDAAI,WAAU;0DACZ,cAAc,MAAM,GAAG,IACtB,cAAc,GAAG,CAAC,CAAA,kBAChB,6LAAC;wDAEC,SAAS,IAAM,mBAAmB,EAAE,EAAE;wDACtC,WAAW,CAAC,mGAAmG,EAAE,EAAE,IAAI,GAAG,eAAe,IAAI;kEAE7I,cAAA,6LAAC;4DAAI,WAAU;;8EACb,6LAAC;oEAAI,WAAW,CAAC,6DAA6D,EAAE,EAAE,IAAI,KAAK,kBAAkB,iCAAiC,8BAA8B;8EAC1K,cAAA,6LAAC,4OAAa;wEAAC,WAAU;;;;;;;;;;;8EAE3B,6LAAC;oEAAI,WAAU;;sFACb,6LAAC;4EAAE,WAAU;sFAAiC,EAAE,KAAK;;;;;;sFACrD,6LAAC;4EAAE,WAAU;sFAA8C,EAAE,OAAO;;;;;;sFACpE,6LAAC;4EAAE,WAAU;sFAAsD,IAAI,KAAK,EAAE,IAAI,EAAE,kBAAkB;;;;;;;;;;;;;;;;;;uDAXrG,EAAE,EAAE;;;;kHAiBb,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAI,WAAU;sEACb,cAAA,6LAAC,6MAAI;gEAAC,WAAU;;;;;;;;;;;sEAElB,6LAAC;4DAAE,WAAU;sEAAmC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0CAQ5D,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCACC,SAAS,IAAM,WAAW,CAAC;wCAC3B,WAAW,CAAC,wCAAwC,EAAE,UAAU,8DAA8D,sDAAsD;kDAEpL,cAAA,6LAAC,mOAAU;4CAAC,WAAU;;;;;;;;;;;oCAIvB,yBACC,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAI,WAAU;;;;;;kEACf,6LAAC;wDAAG,WAAU;kEAA8C;;;;;;kEAC5D,6LAAC;wDAAE,WAAU;kEAAqD;;;;;;;;;;;;0DAGpE,6LAAC;gDAAI,WAAU;;kEAEb,6LAAC;wDAAI,WAAU;;0EACb,6LAAC;gEAAI,WAAU;0EACb,cAAA,6LAAC,6MAAI;oEAAC,WAAU;;;;;;;;;;;0EAElB,6LAAC;;kFACC,6LAAC;wEAAE,WAAU;kFAAgE;;;;;;kFAC7E,6LAAC;wEAAE,WAAU;kFAA+B;;;;;;kFAC5C,6LAAC;wEAAE,MAAK;wEAAkC,WAAU;kFAA2C;;;;;;;;;;;;;;;;;;kEAInG,6LAAC;wDAAI,WAAU;;0EACb,6LAAC;gEAAE,WAAU;0EAAmE;;;;;;4DAE/E;gEACC;oEAAE,GAAG;oEAAgC,GAAG;gEAAqF;gEAC7H;oEAAE,GAAG;oEAA+B,GAAG;gEAAqF;gEAC5H;oEAAE,GAAG;oEAA+B,GAAG;gEAAgG;6DACxI,CAAC,GAAG,CAAC,CAAC,MAAM,kBACX,6LAAC;oEAAY,WAAU;;sFACrB,6LAAC;4EAAG,WAAU;;gFACX,KAAK,CAAC;8FACP,6LAAC,yOAAY;oFAAC,WAAU;;;;;;;;;;;;sFAE1B,6LAAC;4EAAE,WAAU;sFAA0C,KAAK,CAAC;;;;;;;mEALrD;;;;;;;;;;;;;;;;;0DAWhB,6LAAC;gDAAI,WAAU;0DACb,cAAA,6LAAC;oDAAO,SAAS,IAAM,WAAW;oDAAQ,WAAU;8DAAsE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAOpI,6LAAC;wBAAI,WAAU;;4BACZ,2BACC,6LAAC;gCACC,SAAS;gCACT,WAAU;gCACV,OAAM;0CAEN,cAAA,6LAAC,mOAAU;oCAAC,WAAU;;;;;;;;;;;0CAI1B,6LAAC;gCACC,SAAS;oCACP,IAAI,UAAU,KAAK,EAAE;wCACnB,UAAU,KAAK,CAAC;4CACd,OAAO;4CACP,MAAM;4CACN,KAAK,OAAO,QAAQ,CAAC,MAAM;wCAC7B,GAAG,KAAK,CAAC,CAAA,MAAO,QAAQ,GAAG,CAAC,iBAAiB;oCAC/C,OAAO;wCACL,OAAO,IAAI,CAAC,CAAC,0FAA0F,EAAE,OAAO,QAAQ,CAAC,MAAM,EAAE,EAAE;oCACrI;gCACF;gCACA,WAAU;gCACV,OAAM;0CAEN,cAAA,6LAAC,uNAAM;oCAAC,WAAU;;;;;;;;;;;0CAGpB,6LAAC;gCACC,SAAS,IAAM,aAAa;gCAC5B,WAAU;;kDAEV,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAK,WAAW,CAAC,sDAAsD,EAAE,QAAQ,cAAc,KAAK,SAAS,uCAAuC,kCAAkC;kEACpL,QAAQ,SAAS,IAAI;;;;;;kEAExB,6LAAC;wDAAE,WAAU;kEAAgF,QAAQ,IAAI;;;;;;;;;;;;0DAE3G,6LAAC;gDAAE,WAAU;0DAAkE,QAAQ,WAAW;;;;;;;;;;;;kDAEpG,6LAAC;wCAAI,WAAU;kDACZ,QAAQ,OAAO,iBACd,6LAAC;4CAAI,KAAK,QAAQ,OAAO;4CAAE,WAAU;;;;;uFAErC,QAAQ,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAA,IAAK,CAAC,CAAC,EAAE,EAAE,IAAI,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ5D;GA5LM;KAAA;uCA8LS"}},
    {"offset": {"line": 1085, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Arthu/Downloads/ribeirxlog%20app/services/finance.ts"],"sourcesContent":["\nimport { Trip, Vehicle, Driver, UserProfile, FinancialResults } from '../types';\n\nexport const calculateTripFinance = (\n  trip: Trip,\n  vehicle: Vehicle,\n  driver: Driver,\n  profile: UserProfile\n): FinancialResults => {\n  const { freteSeco, diarias, adiantamento, combustivel, outrasDespesas } = trip;\n\n  // Commission logic\n  const percFrete = driver.customCommission?.frete ?? profile.config.percMotFrete;\n  const percDiaria = driver.customCommission?.diaria ?? profile.config.percMotDiaria;\n\n  const totalBruto = freteSeco + diarias;\n  const comissaoMotorista = (freteSeco * (percFrete / 100)) + (diarias * (percDiaria / 100));\n  const saldoAReceber = totalBruto - adiantamento;\n\n  const lucroLiquidoReal = totalBruto - (comissaoMotorista + combustivel + outrasDespesas);\n\n  let lucroSociety = lucroLiquidoReal;\n  if (vehicle.type === 'Sociedade') {\n    lucroSociety = lucroLiquidoReal * (vehicle.societySplitFactor / 100);\n  }\n\n  return {\n    totalBruto,\n    comissaoMotorista,\n    saldoAReceber,\n    lucroLiquidoReal,\n    lucroSociety\n  };\n};\n\nexport const normalizeDestination = (dest: string): string => {\n  if (!dest) return '';\n  return dest\n    .toLowerCase()\n    .trim()\n    .normalize(\"NFD\")\n    .replace(/[\\u0300-\\u036f]/g, \"\")\n    .split('-')[0] // Take only the city part\n    .trim();\n};\n"],"names":[],"mappings":";;;;;;AAGO,MAAM,uBAAuB,CAClC,MACA,SACA,QACA;IAEA,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,YAAY,EAAE,WAAW,EAAE,cAAc,EAAE,GAAG;IAE1E,mBAAmB;IACnB,MAAM,YAAY,OAAO,gBAAgB,EAAE,SAAS,QAAQ,MAAM,CAAC,YAAY;IAC/E,MAAM,aAAa,OAAO,gBAAgB,EAAE,UAAU,QAAQ,MAAM,CAAC,aAAa;IAElF,MAAM,aAAa,YAAY;IAC/B,MAAM,oBAAoB,AAAC,YAAY,CAAC,YAAY,GAAG,IAAM,UAAU,CAAC,aAAa,GAAG;IACxF,MAAM,gBAAgB,aAAa;IAEnC,MAAM,mBAAmB,aAAa,CAAC,oBAAoB,cAAc,cAAc;IAEvF,IAAI,eAAe;IACnB,IAAI,QAAQ,IAAI,KAAK,aAAa;QAChC,eAAe,mBAAmB,CAAC,QAAQ,kBAAkB,GAAG,GAAG;IACrE;IAEA,OAAO;QACL;QACA;QACA;QACA;QACA;IACF;AACF;AAEO,MAAM,uBAAuB,CAAC;IACnC,IAAI,CAAC,MAAM,OAAO;IAClB,OAAO,KACJ,WAAW,GACX,IAAI,GACJ,SAAS,CAAC,OACV,OAAO,CAAC,oBAAoB,IAC5B,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,0BAA0B;KACxC,IAAI;AACT"}},
    {"offset": {"line": 1124, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Arthu/Downloads/ribeirxlog%20app/services/aiAnalysis.ts"],"sourcesContent":["import { Trip, Vehicle, Driver, Shipper, UserProfile } from '../types';\r\nimport { calculateTripFinance } from './finance';\r\n\r\nexport interface AIInsight {\r\n    id: string;\r\n    type: 'positive' | 'negative' | 'neutral' | 'prediction';\r\n    category: 'finance' | 'fleet' | 'driver' | 'market';\r\n    title: string;\r\n    description: string;\r\n    impactScore: number; // 0-100\r\n    action?: string;\r\n}\r\n\r\nexport function generateAIInsights(\r\n    trips: Trip[],\r\n    vehicles: Vehicle[],\r\n    drivers: Driver[],\r\n    shippers: Shipper[],\r\n    profile: UserProfile\r\n): AIInsight[] {\r\n    const insights: AIInsight[] = [];\r\n    const now = new Date();\r\n\r\n    // 1. ANÁLISE DE LUCRATIVIDADE DA FROTA (Detecção de Anomalias)\r\n    vehicles.forEach(vehicle => {\r\n        const vehicleTrips = trips.filter(t => t.vehicleId === vehicle.id);\r\n        if (vehicleTrips.length === 0) return;\r\n\r\n        const avgKmPerLiter = vehicleTrips.reduce((acc, t) => acc + (t.totalKm / (t.litersDiesel || 1)), 0) / vehicleTrips.length;\r\n\r\n        // Regra: Caminhão fazendo menos que 2.0km/l é crítico\r\n        if (avgKmPerLiter < 2.0 && vehicle.type === 'Próprio') {\r\n            insights.push({\r\n                id: `consumo-${vehicle.id}`,\r\n                type: 'negative',\r\n                category: 'fleet',\r\n                title: `Consumo Crítico: ${vehicle.plate}`,\r\n                description: `O veículo ${vehicle.name} está com média de ${avgKmPerLiter.toFixed(2)} km/l, abaixo do ideal.`,\r\n                impactScore: 85,\r\n                action: 'Agendar revisão de bicos injetores'\r\n            });\r\n        }\r\n    });\r\n\r\n    // 2. PREVISÃO DE FATURAMENTO (Desempenho Financeiro)\r\n    const currentMonthTrips = trips.filter(t => {\r\n        const d = new Date(t.receiptDate);\r\n        return d.getMonth() === now.getMonth() && d.getFullYear() === now.getFullYear();\r\n    });\r\n\r\n    if (currentMonthTrips.length > 0) {\r\n        let currentRevenue = 0;\r\n        currentMonthTrips.forEach(t => {\r\n            const v = vehicles.find(veh => veh.id === t.vehicleId);\r\n            const d = drivers.find(drv => drv.id === t.driverId);\r\n            if (v && d) currentRevenue += calculateTripFinance(t, v, d, profile).lucroSociety;\r\n        });\r\n\r\n        const daysPassed = now.getDate();\r\n        const daysInMonth = new Date(now.getFullYear(), now.getMonth() + 1, 0).getDate();\r\n        const projectedRevenue = (currentRevenue / daysPassed) * daysInMonth;\r\n\r\n        insights.push({\r\n            id: 'revenue-forecast',\r\n            type: 'prediction',\r\n            category: 'finance',\r\n            title: 'Projeção de Fechamento',\r\n            description: `Ritmo atual indica faturamento de R$ ${projectedRevenue.toLocaleString('pt-BR', { maximumFractionDigits: 0 })} até o fim do mês.`,\r\n            impactScore: 90,\r\n            action: 'Ver relatório completo'\r\n        });\r\n    }\r\n\r\n    // 3. ANÁLISE DE MOTORISTAS (Desempenho)\r\n    drivers.forEach(driver => {\r\n        const driverTrips = trips.filter(t => t.driverId === driver.id && t.status === 'Pago');\r\n        if (driverTrips.length > 5) {\r\n            const totalRevenue = driverTrips.reduce((acc, t) => acc + t.freteSeco, 0);\r\n\r\n            // Regra: Motorista que faturou mais que 50k é Top Performer\r\n            if (totalRevenue > 50000) {\r\n                insights.push({\r\n                    id: `top-driver-${driver.id}`,\r\n                    type: 'positive',\r\n                    category: 'driver',\r\n                    title: `Top Performer: ${driver.name.split(' ')[0]}`,\r\n                    description: `Gerou R$ ${totalRevenue.toLocaleString()} em fretes pagos. Considere bonificação.`,\r\n                    impactScore: 75,\r\n                    action: 'Enviar elogio'\r\n                });\r\n            }\r\n        }\r\n    });\r\n\r\n    // Sort by impact\r\n    return insights.sort((a, b) => b.impactScore - a.impactScore);\r\n}\r\n\r\nexport interface GoldenTip {\r\n    title: string;\r\n    description: string;\r\n    impact: string;\r\n}\r\n\r\nexport function generateGoldenTips(\r\n    trips: Trip[],\r\n    vehicles: Vehicle[],\r\n    shippers: Shipper[]\r\n): GoldenTip[] {\r\n    const tips: GoldenTip[] = [];\r\n\r\n    // 1. DICA DE ROTA LUCRATIVA (Analisa R$/km)\r\n    const routeProfits: Record<string, { revenue: number; km: number }> = {};\r\n    trips.forEach(t => {\r\n        if (!routeProfits[t.destination]) routeProfits[t.destination] = { revenue: 0, km: 0 };\r\n        routeProfits[t.destination].revenue += t.freteSeco;\r\n        routeProfits[t.destination].km += t.totalKm;\r\n    });\r\n\r\n    let bestRoute = '';\r\n    let maxRpkm = 0;\r\n\r\n    Object.entries(routeProfits).forEach(([dest, data]) => {\r\n        const rpkm = data.revenue / (data.km || 1);\r\n        if (rpkm > maxRpkm && data.km > 1000) { // Filtro de relevância\r\n            maxRpkm = rpkm;\r\n            bestRoute = dest;\r\n        }\r\n    });\r\n\r\n    if (bestRoute) {\r\n        tips.push({\r\n            title: 'Rota de Ouro Identificada',\r\n            description: `Destinos para **${bestRoute}** estão pagando R$ ${maxRpkm.toFixed(2)}/km, cerca de 15% acima da média da frota.`,\r\n            impact: 'Aumente a alocação de veículos próprios nesta rota para maximizar a margem líquida.'\r\n        });\r\n    } else {\r\n        tips.push({\r\n            title: 'Otimização de Rotas',\r\n            description: 'Ainda não há dados suficientes para identificar rotas \"Outliers\".',\r\n            impact: 'Continue registrando viagens para desbloquear esta análise.'\r\n        });\r\n    }\r\n\r\n    // 2. DICA DE FLUXO DE CAIXA (Shippers com maior prazo)\r\n    const slowPayer = shippers.reduce((max, s) => s.avgPaymentDays > max.avgPaymentDays ? s : max, shippers[0]);\r\n    if (slowPayer && slowPayer.avgPaymentDays > 30) {\r\n        tips.push({\r\n            title: 'Drenagem de Caixa Detectada',\r\n            description: `O cliente **${slowPayer.name}** tem um ciclo de pagamentos médio de ${slowPayer.avgPaymentDays} dias.`,\r\n            impact: 'Isso trava seu capital de giro. Sugerimos negociar um desconto de 2% para pagamentos em 15 dias.'\r\n        });\r\n    } else {\r\n        tips.push({\r\n            title: 'Saúde de Fluxo de Caixa',\r\n            description: 'Seus prazos de recebimento estão saudáveis (< 30 dias).',\r\n            impact: 'Mantenha a política atual de cobrança.'\r\n        });\r\n    }\r\n\r\n    // 3. DICA DE MANUTENÇÃO (Veículo mais antigo/rodado)\r\n    const oldestHighKmVehicle = vehicles\r\n        .filter(v => v.totalKmAccumulated > 100000 || (new Date().getFullYear() - v.year) > 10)\r\n        .sort((a, b) => b.totalKmAccumulated - a.totalKmAccumulated)[0];\r\n\r\n    if (oldestHighKmVehicle) {\r\n        tips.push({\r\n            title: 'Momento de Renovação',\r\n            description: `O veículo **${oldestHighKmVehicle.plate}** (${oldestHighKmVehicle.model}) já rodou ${oldestHighKmVehicle.totalKmAccumulated.toLocaleString()} km.`,\r\n            impact: 'A curva de manutenção corretiva deve subir exponencialmente. Considere a venda e substituição nos próximos 6 meses.'\r\n        });\r\n    } else {\r\n        tips.push({\r\n            title: 'Frota Saudável',\r\n            description: 'Sua frota está moderna e a depreciação controlada.',\r\n            impact: 'Foque em manutenção preventiva para estender a vida útil e valor de revenda.'\r\n        });\r\n    }\r\n\r\n    return tips;\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1275, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Arthu/Downloads/ribeirxlog%20app/components/AIInsights.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Sparkles, TrendingUp, AlertTriangle, UserCheck, ArrowRight, BrainCircuit, X, Lightbulb, Lock, ChevronDown, ChevronUp } from 'lucide-react';\r\nimport { AIInsight, GoldenTip, generateGoldenTips } from '../services/aiAnalysis';\r\nimport { Trip, Vehicle, Driver, Shipper } from '../types';\r\n\r\ninterface AIInsightsProps {\r\n    insights: AIInsight[];\r\n    trips?: Trip[];\r\n    vehicles?: Vehicle[];\r\n    shippers?: Shipper[];\r\n}\r\n\r\nexport const AIInsights: React.FC<AIInsightsProps> = ({ insights, trips, vehicles, shippers }) => {\r\n    const [showGoldenTips, setShowGoldenTips] = useState(false);\r\n    const [goldenTips, setGoldenTips] = useState<GoldenTip[]>([]);\r\n    const [isExpanded, setIsExpanded] = useState(false);\r\n\r\n    const handleShowTips = () => {\r\n        if (trips && vehicles && shippers) {\r\n            const generatedTips = generateGoldenTips(trips, vehicles, shippers);\r\n            setGoldenTips(generatedTips);\r\n            setShowGoldenTips(true);\r\n        }\r\n    };\r\n\r\n    if (insights.length === 0) return null;\r\n\r\n    // Filter only high impact or vital insights for the compact view\r\n    const vitalInsights = insights.filter(i => i.impactScore > 75).slice(0, 3);\r\n    const displayInsights = isExpanded ? insights : vitalInsights;\r\n\r\n    return (\r\n        <>\r\n            <div className=\"w-full bg-slate-900 border-y border-slate-800 backdrop-blur-md mb-6 transition-all\">\r\n                <div className=\"flex flex-col md:flex-row items-center justify-between px-6 py-3 gap-4\">\r\n\r\n                    {/* Header Compacto */}\r\n                    <div className=\"flex items-center gap-3 shrink-0\">\r\n                        <div className=\"p-1.5 bg-emerald-500/10 rounded-lg\">\r\n                            <BrainCircuit className=\"w-4 h-4 text-emerald-500\" />\r\n                        </div>\r\n                        <div>\r\n                            <h3 className=\"font-bold text-white text-sm flex items-center gap-2\">\r\n                                Ribeirx AI\r\n                                <span className=\"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse\" />\r\n                            </h3>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Compact Ticker / Grid */}\r\n                    <div className=\"flex-1 w-full md:w-auto\">\r\n                        <div className=\"flex flex-col md:flex-row gap-3 overflow-x-auto md:overflow-visible\">\r\n                            {displayInsights.map((insight) => (\r\n                                <div\r\n                                    key={insight.id}\r\n                                    className={`flex items-center gap-3 px-3 py-2 rounded-lg border text-xs whitespace-nowrap md:whitespace-normal transition-all ${insight.type === 'negative' ? 'bg-rose-500/5 border-rose-500/10 text-rose-200' :\r\n                                        insight.type === 'positive' ? 'bg-emerald-500/5 border-emerald-500/10 text-emerald-200' :\r\n                                            'bg-sky-500/5 border-sky-500/10 text-sky-200'\r\n                                        }`}\r\n                                >\r\n                                    {insight.type === 'negative' ? <AlertTriangle className=\"w-3.5 h-3.5 shrink-0\" /> :\r\n                                        insight.type === 'positive' ? <UserCheck className=\"w-3.5 h-3.5 shrink-0\" /> :\r\n                                            <TrendingUp className=\"w-3.5 h-3.5 shrink-0\" />}\r\n\r\n                                    <div className=\"flex flex-col\">\r\n                                        <span className=\"font-bold\">{insight.title}</span>\r\n                                        <span className=\"opacity-70 text-[10px] hidden lg:block\">{insight.description}</span>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                            {displayInsights.length === 0 && (\r\n                                <span className=\"text-xs text-slate-500 italic px-2\">Nenhuma anomalia detectada. Sistema operando normalmente.</span>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Actions */}\r\n                    <div className=\"flex items-center gap-2 shrink-0\">\r\n                        <button\r\n                            onClick={handleShowTips}\r\n                            className=\"bg-amber-500/10 hover:bg-amber-500/20 text-amber-500 border border-amber-500/20 px-3 py-1.5 rounded-lg text-xs font-bold transition-all flex items-center gap-2\"\r\n                        >\r\n                            <Lightbulb className=\"w-3.5 h-3.5\" />\r\n                            <span className=\"hidden sm:inline\">Dicas de Ouro</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Golden Tips Modal (Unchanged logic, same UI) */}\r\n            {showGoldenTips && (\r\n                <div className=\"fixed inset-0 z-[200] flex items-center justify-center p-4\">\r\n                    <div className=\"absolute inset-0 bg-slate-950/80 backdrop-blur-sm\" onClick={() => setShowGoldenTips(false)} />\r\n                    <div className=\"bg-slate-900 border border-amber-500/30 rounded-2xl w-full max-w-2xl shadow-2xl relative z-10 overflow-hidden animate-in fade-in zoom-in-95 duration-200\">\r\n                        <div className=\"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-amber-300 via-yellow-500 to-amber-600\" />\r\n                        <div className=\"p-8\">\r\n                            <div className=\"flex items-center justify-between mb-8\">\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <div className=\"p-3 bg-amber-500/10 rounded-xl border border-amber-500/20\">\r\n                                        <Lightbulb className=\"w-6 h-6 text-amber-400\" />\r\n                                    </div>\r\n                                    <div>\r\n                                        <h2 className=\"text-xl font-black text-white\">3 Dicas de Ouro</h2>\r\n                                        <p className=\"text-sm text-amber-400/80 font-medium\">Insights exclusivos baseados nos seus dados</p>\r\n                                    </div>\r\n                                </div>\r\n                                <button onClick={() => setShowGoldenTips(false)} className=\"p-2 hover:bg-slate-800 rounded-lg transition-colors\">\r\n                                    <X className=\"w-5 h-5 text-slate-400\" />\r\n                                </button>\r\n                            </div>\r\n                            <div className=\"space-y-4\">\r\n                                {goldenTips.map((tip, index) => (\r\n                                    <div key={index} className=\"bg-slate-800/50 border border-slate-700/50 p-5 rounded-xl flex gap-4 group hover:border-amber-500/30 transition-colors\">\r\n                                        <div className=\"text-4xl font-black text-slate-800 group-hover:text-amber-500/20 transition-colors select-none\">\r\n                                            {index + 1}\r\n                                        </div>\r\n                                        <div>\r\n                                            <h4 className=\"font-bold text-slate-200 mb-1 flex items-center gap-2\">\r\n                                                {tip.title}\r\n                                                {index === 0 && <span className=\"bg-amber-500 text-black text-[9px] font-black px-1.5 rounded uppercase\">Top</span>}\r\n                                            </h4>\r\n                                            <p className=\"text-sm text-slate-400 mb-3 leading-relaxed\">{tip.description}</p>\r\n                                            <div className=\"bg-amber-500/5 border border-amber-500/10 rounded-lg p-3\">\r\n                                                <p className=\"text-xs text-amber-300 font-medium flex items-start gap-2\">\r\n                                                    <Sparkles className=\"w-3 h-3 mt-0.5 shrink-0\" />\r\n                                                    {tip.impact}\r\n                                                </p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1692, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Arthu/Downloads/ribeirxlog%20app/components/Dashboard.tsx"],"sourcesContent":["\r\nimport React, { useMemo, useState } from 'react';\r\nimport {\r\n  BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer,\r\n  AreaChart, Area, Cell, PieChart, Pie\r\n} from 'recharts';\r\nimport {\r\n  DollarSign,\r\n  ArrowUpRight,\r\n  ArrowDownRight,\r\n  TrendingUp,\r\n  CreditCard,\r\n  Clock,\r\n  Calendar\r\n} from 'lucide-react';\r\nimport { Trip, Vehicle, Driver, Shipper, UserProfile } from '../types';\r\nimport { calculateTripFinance } from '../services/finance';\r\nimport { generateAIInsights } from '../services/aiAnalysis';\r\nimport { AIInsights } from './AIInsights';\r\n\r\ninterface DashboardProps {\r\n  trips: Trip[];\r\n  vehicles: Vehicle[];\r\n  drivers: Driver[];\r\n  shippers: Shipper[];\r\n  profile: UserProfile;\r\n}\r\n\r\ntype TimeFilter = 'semanal' | 'mensal' | 'anual' | 'total';\r\n\r\nconst Dashboard: React.FC<DashboardProps> = ({ trips, vehicles, drivers, shippers, profile }) => {\r\n  const [timeFilter, setTimeFilter] = useState<TimeFilter>('mensal');\r\n\r\n  const filteredTrips = useMemo(() => {\r\n    const now = new Date();\r\n    return trips.filter(trip => {\r\n      if (timeFilter === 'total') return true;\r\n\r\n      const receiptDate = new Date(trip.receiptDate);\r\n      if (timeFilter === 'semanal') {\r\n        const sevenDaysAgo = new Date();\r\n        sevenDaysAgo.setDate(now.getDate() - 7);\r\n        return receiptDate >= sevenDaysAgo;\r\n      }\r\n      if (timeFilter === 'mensal') {\r\n        const thirtyDaysAgo = new Date();\r\n        thirtyDaysAgo.setDate(now.getDate() - 30);\r\n        return receiptDate >= thirtyDaysAgo;\r\n      }\r\n      if (timeFilter === 'anual') {\r\n        return receiptDate.getFullYear() === now.getFullYear();\r\n      }\r\n      return true;\r\n    });\r\n  }, [trips, timeFilter]);\r\n\r\n  const stats = useMemo(() => {\r\n    let totalRevenue = 0;\r\n    let totalProfit = 0;\r\n    let pendingReceivables = 0;\r\n    let driverCommissions = 0;\r\n\r\n    filteredTrips.forEach(trip => {\r\n      const vehicle = vehicles.find(v => v.id === trip.vehicleId) || { plate: 'GENERIC', type: 'Próprio' } as Vehicle;\r\n      const driver = drivers.find(d => d.id === trip.driverId) || { name: 'Generic' } as Driver;\r\n\r\n      const finance = calculateTripFinance(trip, vehicle, driver, profile);\r\n      totalRevenue += finance.totalBruto;\r\n      totalProfit += finance.lucroSociety;\r\n      driverCommissions += finance.comissaoMotorista;\r\n      if (trip.status === 'Pendente' || trip.status === 'Parcial') {\r\n        pendingReceivables += finance.saldoAReceber;\r\n      }\r\n    });\r\n\r\n    return { totalRevenue, totalProfit, pendingReceivables, driverCommissions };\r\n  }, [filteredTrips, vehicles, drivers, profile]);\r\n\r\n  const chartData = useMemo(() => {\r\n    // Generate simple trend data based on the filter\r\n    const months = ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'];\r\n    if (timeFilter === 'anual' || timeFilter === 'total') {\r\n      return months.map((m, i) => ({\r\n        name: m,\r\n        value: filteredTrips\r\n          .filter(t => new Date(t.receiptDate).getMonth() === i)\r\n          .reduce((acc, t) => {\r\n            const v = vehicles.find(veh => veh.id === t.vehicleId) || { plate: 'GENERIC', type: 'Próprio' } as Vehicle;\r\n            const d = drivers.find(drv => drv.id === t.driverId) || { name: 'Generic' } as Driver;\r\n            return acc + calculateTripFinance(t, v, d, profile).lucroSociety;\r\n          }, 0)\r\n      }));\r\n    }\r\n    // For weekly/monthly, just show last few items or days\r\n    return filteredTrips.slice(-10).map(t => ({\r\n      name: (t.receiptDate || '').split('-').reverse().slice(0, 2).join('/'),\r\n      value: calculateTripFinance(t, vehicles.find(v => v.id === t.vehicleId) || { plate: 'GENERIC' } as Vehicle, drivers.find(d => d.id === t.driverId) || { name: 'Generic' } as Driver, profile).lucroSociety\r\n    }));\r\n  }, [filteredTrips, timeFilter, vehicles, drivers, profile]);\r\n\r\n  const pieData = useMemo(() => {\r\n    const propio = filteredTrips.filter(t => vehicles.find(v => v.id === t.vehicleId)?.type === 'Próprio').length;\r\n    const sociedade = filteredTrips.filter(t => vehicles.find(v => v.id === t.vehicleId)?.type === 'Sociedade').length;\r\n    const total = propio + sociedade || 1;\r\n    return [\r\n      { name: 'Próprio', value: Math.round((propio / total) * 100), color: '#10b981' },\r\n      { name: 'Sociedade', value: Math.round((sociedade / total) * 100), color: '#f43f5e' },\r\n    ];\r\n  }, [filteredTrips, vehicles]);\r\n\r\n  const aiInsights = useMemo(() => {\r\n    return generateAIInsights(trips, vehicles, drivers, shippers, profile);\r\n  }, [trips, vehicles, drivers, shippers, profile]);\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <header className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-white\">Bem-vindo de volta, {profile.name}!</h1>\r\n          <p className=\"text-slate-400\">Aqui está o resumo operacional da sua frota.</p>\r\n        </div>\r\n\r\n        <div className=\"flex items-center p-1 bg-slate-800 rounded-xl border border-slate-700\">\r\n          {(['semanal', 'mensal', 'anual', 'total'] as TimeFilter[]).map((f) => (\r\n            <button\r\n              key={f}\r\n              onClick={() => setTimeFilter(f)}\r\n              className={`px-4 py-1.5 rounded-lg text-xs font-bold transition-all capitalize ${timeFilter === f\r\n                ? 'bg-emerald-500 text-white shadow-lg shadow-emerald-500/20'\r\n                : 'text-slate-400 hover:text-slate-200'\r\n                }`}\r\n            >\r\n              {f}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </header>\r\n\r\n      {/* AI Section with Fade In Animation */}\r\n      {profile.config.enableBI !== false && (\r\n        <div className=\"animate-in fade-in slide-in-from-bottom-4 duration-700\">\r\n          <AIInsights\r\n            insights={aiInsights}\r\n            trips={trips}\r\n            vehicles={vehicles}\r\n            shippers={shippers}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {/* Stats Grid */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n        <StatCard\r\n          title=\"Faturamento Bruto\"\r\n          value={`R$ ${stats.totalRevenue.toLocaleString()}`}\r\n          trend={timeFilter}\r\n          isPositive={true}\r\n          icon={DollarSign}\r\n        />\r\n        <StatCard\r\n          title=\"Lucro Líquido Real\"\r\n          value={`R$ ${stats.totalProfit.toLocaleString()}`}\r\n          trend={timeFilter}\r\n          isPositive={true}\r\n          icon={TrendingUp}\r\n        />\r\n        <StatCard\r\n          title=\"Saldo a Receber\"\r\n          value={`R$ ${stats.pendingReceivables.toLocaleString()}`}\r\n          trend=\"Pendente\"\r\n          isPositive={false}\r\n          icon={Clock}\r\n        />\r\n        <StatCard\r\n          title=\"Saldo Motoristas\"\r\n          value={`R$ ${stats.driverCommissions.toLocaleString()}`}\r\n          trend=\"Comissões\"\r\n          isPositive={true}\r\n          icon={CreditCard}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        {/* Main Chart */}\r\n        <div className=\"lg:col-span-2 bg-slate-800/50 border border-slate-700 p-6 rounded-2xl\">\r\n          <div className=\"flex items-center justify-between mb-6\">\r\n            <h3 className=\"font-bold text-white\">Fluxo de Caixa: Lucratividade</h3>\r\n            <div className=\"flex items-center gap-2 text-xs text-slate-500\">\r\n              <Calendar className=\"w-3.5 h-3.5\" />\r\n              Período: <span className=\"text-emerald-500 font-bold uppercase\">{timeFilter}</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"h-64\">\r\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n              <AreaChart data={chartData}>\r\n                <defs>\r\n                  <linearGradient id=\"colorValue\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                    <stop offset=\"5%\" stopColor=\"#10b981\" stopOpacity={0.3} />\r\n                    <stop offset=\"95%\" stopColor=\"#10b981\" stopOpacity={0} />\r\n                  </linearGradient>\r\n                </defs>\r\n                <CartesianGrid strokeDasharray=\"3 3\" vertical={false} stroke=\"#334155\" />\r\n                <XAxis dataKey=\"name\" stroke=\"#64748b\" fontSize={12} tickLine={false} axisLine={false} />\r\n                <YAxis stroke=\"#64748b\" fontSize={12} tickLine={false} axisLine={false} />\r\n                <Tooltip\r\n                  contentStyle={{ backgroundColor: '#1e293b', border: '1px solid #334155', borderRadius: '8px' }}\r\n                  itemStyle={{ color: '#f1f5f9' }}\r\n                />\r\n                <Area type=\"monotone\" dataKey=\"value\" stroke=\"#10b981\" fillOpacity={1} fill=\"url(#colorValue)\" strokeWidth={3} />\r\n              </AreaChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Donut Chart */}\r\n        <div className=\"bg-slate-800/50 border border-slate-700 p-6 rounded-2xl flex flex-col justify-between\">\r\n          <div>\r\n            <h3 className=\"font-bold text-white mb-1\">Distribuição de Frota</h3>\r\n            <p className=\"text-xs text-slate-400 mb-6\">Volume de viagens por tipo de propriedade</p>\r\n          </div>\r\n          <div className=\"h-48\">\r\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n              <PieChart>\r\n                <Pie\r\n                  data={pieData}\r\n                  cx=\"50%\"\r\n                  cy=\"50%\"\r\n                  innerRadius={60}\r\n                  outerRadius={80}\r\n                  paddingAngle={5}\r\n                  dataKey=\"value\"\r\n                >\r\n                  {pieData.map((entry, index) => (\r\n                    <Cell key={`cell-${index}`} fill={entry.color} />\r\n                  ))}\r\n                </Pie>\r\n                <Tooltip />\r\n              </PieChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n          <div className=\"space-y-2 mt-4\">\r\n            {pieData.map((item, i) => (\r\n              <div key={i} className=\"flex items-center justify-between text-xs\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <div className=\"w-2 h-2 rounded-full\" style={{ backgroundColor: item.color }} />\r\n                  <span className=\"text-slate-300\">{item.name}</span>\r\n                </div>\r\n                <span className=\"font-bold text-white\">{item.value}%</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst StatCard: React.FC<{ title: string; value: string; trend: string; isPositive: boolean; icon: any }> = ({ title, value, trend, isPositive, icon: Icon }) => (\r\n  <div className=\"bg-slate-800/50 border border-slate-700 p-6 rounded-2xl hover:bg-slate-800 transition-colors group\">\r\n    <div className=\"flex items-center justify-between mb-4\">\r\n      <div className=\"p-3 bg-slate-900 rounded-xl text-emerald-500 group-hover:scale-110 transition-transform\">\r\n        <Icon className=\"w-5 h-5\" />\r\n      </div>\r\n      <div className={`flex items-center gap-1 text-[10px] uppercase font-bold px-2 py-0.5 rounded-full ${isPositive ? 'text-emerald-500 bg-emerald-500/10' : 'text-slate-400 bg-slate-400/10'}`}>\r\n        {isPositive ? <ArrowUpRight className=\"w-3 h-3\" /> : <Clock className=\"w-3 h-3\" />}\r\n        {trend}\r\n      </div>\r\n    </div>\r\n    <h4 className=\"text-slate-400 text-sm font-medium mb-1\">{title}</h4>\r\n    <p className=\"text-2xl font-bold text-white\">{value}</p>\r\n  </div>\r\n);\r\n\r\nexport default Dashboard;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2438, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Arthu/Downloads/ribeirxlog%20app/components/Trips.tsx"],"sourcesContent":["\r\nimport React, { useState, useMemo, useRef } from 'react';\r\nimport {\r\n  Search,\r\n  Filter,\r\n  MoreVertical,\r\n  FileText,\r\n  Clock,\r\n  CheckCircle2,\r\n  AlertCircle,\r\n  X,\r\n  Download,\r\n  Trash2,\r\n  MapPin,\r\n  Truck as TruckIcon,\r\n  User as UserIcon,\r\n  Building2,\r\n  ArrowUpDown,\r\n  TrendingUp,\r\n  Calendar as CalendarIcon,\r\n  ChevronDown,\r\n  Coins,\r\n  AlertTriangle,\r\n  Loader2,\r\n  Edit3,\r\n  Save,\r\n  Navigation,\r\n  Gauge,\r\n  Droplets,\r\n  Wallet\r\n} from 'lucide-react';\r\nimport { Trip, Vehicle, Driver, Shipper, UserProfile, PaymentStatus } from '../types';\r\nimport { calculateTripFinance } from '../services/finance';\r\n\r\ninterface TripsProps {\r\n  trips: Trip[];\r\n  setTrips: (trips: Trip[]) => void;\r\n  onUpdateTrip: (trip: Trip) => void;\r\n  vehicles: Vehicle[];\r\n  drivers: Driver[];\r\n  shippers: Shipper[];\r\n  profile: UserProfile;\r\n}\r\n\r\ntype SortOption = 'recent' | 'profit' | 'gross';\r\ntype StatusFilter = 'all' | 'pending' | 'paid';\r\n\r\nconst formatDate = (dateStr: string) => {\r\n  if (!dateStr) return '---';\r\n  const parts = dateStr.split('-');\r\n  if (parts.length !== 3) return dateStr;\r\n  const [year, month, day] = parts;\r\n  return `${day}/${month}/${year}`;\r\n};\r\n\r\nconst Trips: React.FC<TripsProps> = ({ trips, setTrips, onUpdateTrip, vehicles, drivers, shippers, profile }) => {\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedTripId, setSelectedTripId] = useState<string | null>(null);\r\n  const [editingTrip, setEditingTrip] = useState<Trip | null>(null);\r\n  const [menuOpenId, setMenuOpenId] = useState<string | null>(null);\r\n  const [tripToDeleteId, setTripToDeleteId] = useState<string | null>(null);\r\n  const [isGeneratingPDF, setIsGeneratingPDF] = useState(false);\r\n\r\n  const [statusFilter, setStatusFilter] = useState<StatusFilter>('all');\r\n  const [sortBy, setSortBy] = useState<SortOption>('recent');\r\n  const [showFilters, setShowFilters] = useState(false);\r\n\r\n  const printableRef = useRef<HTMLDivElement>(null);\r\n\r\n  const filteredAndSortedTrips = useMemo(() => {\r\n    let result = trips.filter(t => {\r\n      const vehicle = vehicles.find(v => v.id === t.vehicleId);\r\n      const matchesSearch =\r\n        (vehicle?.plate || '').toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        (t.destination || '').toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        t.id.includes(searchTerm);\r\n\r\n      const matchesStatus =\r\n        statusFilter === 'all' ||\r\n        (statusFilter === 'pending' && t.status === 'Pendente') ||\r\n        (statusFilter === 'paid' && t.status === 'Pago');\r\n\r\n      return matchesSearch && matchesStatus;\r\n    });\r\n\r\n    result.sort((a, b) => {\r\n      if (sortBy === 'recent') {\r\n        const dateA = a.departureDate || '';\r\n        const dateB = b.departureDate || '';\r\n        return dateB.localeCompare(dateA);\r\n      }\r\n      const vA = vehicles.find(v => v.id === a.vehicleId);\r\n      const dA = drivers.find(d => d.id === a.driverId);\r\n      const vB = vehicles.find(v => v.id === b.vehicleId);\r\n      const dB = drivers.find(d => d.id === b.driverId);\r\n      if (!vA || !dA || !vB || !dB) return 0;\r\n      const finA = calculateTripFinance(a, vA, dA, profile);\r\n      const finB = calculateTripFinance(b, vB, dB, profile);\r\n      if (sortBy === 'profit') return finB.lucroLiquidoReal - finA.lucroLiquidoReal;\r\n      if (sortBy === 'gross') return finB.totalBruto - finA.totalBruto;\r\n      return 0;\r\n    });\r\n\r\n    return result;\r\n  }, [trips, searchTerm, statusFilter, sortBy, vehicles, drivers, profile]);\r\n\r\n  const statsSummary = useMemo(() => {\r\n    return filteredAndSortedTrips.reduce((acc, t) => {\r\n      const v = vehicles.find(veh => veh.id === t.vehicleId);\r\n      const d = drivers.find(drv => drv.id === t.driverId);\r\n      if (v && d) {\r\n        const fin = calculateTripFinance(t, v, d, profile);\r\n        acc.profit += fin.lucroLiquidoReal;\r\n        acc.gross += fin.totalBruto;\r\n      }\r\n      return acc;\r\n    }, { profit: 0, gross: 0 });\r\n  }, [filteredAndSortedTrips, vehicles, drivers, profile]);\r\n\r\n  const handleUpdate = () => {\r\n    if (editingTrip) {\r\n      onUpdateTrip(editingTrip);\r\n      setEditingTrip(null);\r\n      setMenuOpenId(null);\r\n    }\r\n  };\r\n\r\n  const selectedTrip = trips.find(t => t.id === selectedTripId);\r\n  const selectedVehicle = selectedTrip ? vehicles.find(v => v.id === selectedTrip.vehicleId) : null;\r\n  const selectedDriver = selectedTrip ? drivers.find(d => d.id === selectedTrip.driverId) : null;\r\n  const finance = selectedTrip && selectedVehicle && selectedDriver ? calculateTripFinance(selectedTrip, selectedVehicle, selectedDriver, profile) : null;\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Filtros e Top Bar */}\r\n      <div className=\"flex flex-col gap-6\">\r\n        <div className=\"flex flex-col md:flex-row md:items-end justify-between gap-4\">\r\n          <div>\r\n            <h2 className=\"text-3xl font-black text-white tracking-tight\">Viagens</h2>\r\n            <p className=\"text-slate-400 text-sm mt-1\">Gerenciamento dinâmico de fretes e rentabilidade.</p>\r\n          </div>\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"hidden lg:flex items-center gap-4 bg-slate-900/50 border border-slate-800 rounded-2xl px-4 py-2\">\r\n              <div className=\"flex flex-col\">\r\n                <span className=\"text-[10px] uppercase font-bold text-slate-500\">Lucro Filtrado</span>\r\n                <span className=\"text-emerald-500 font-bold text-sm\">R$ {statsSummary.profit.toLocaleString()}</span>\r\n              </div>\r\n              <div className=\"w-px h-8 bg-slate-800\"></div>\r\n              <div className=\"flex flex-col\">\r\n                <span className=\"text-[10px] uppercase font-bold text-slate-500\">Total Bruto</span>\r\n                <span className=\"text-white font-bold text-sm\">R$ {statsSummary.gross.toLocaleString()}</span>\r\n              </div>\r\n            </div>\r\n            <button onClick={() => setShowFilters(!showFilters)} className={`flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all text-sm font-bold ${showFilters ? 'bg-emerald-500 border-emerald-400 text-white shadow-lg shadow-emerald-500/20' : 'bg-slate-800 border-slate-700 text-slate-300 hover:border-slate-600'}`}>\r\n              <Filter className=\"w-4 h-4\" /> Filtros Avançados\r\n            </button>\r\n          </div>\r\n        </div>\r\n        {showFilters && (\r\n          <div className=\"bg-slate-800/40 border border-slate-700/50 rounded-3xl p-6 grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n            <div className=\"space-y-2\">\r\n              <label className=\"text-[10px] font-black text-slate-500 uppercase tracking-widest\">Pesquisa Inteligente</label>\r\n              <div className=\"relative\">\r\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500\" />\r\n                <input type=\"text\" placeholder=\"Placa, destino ou ID...\" className=\"w-full bg-slate-900/50 border border-slate-700 rounded-xl pl-10 pr-4 py-2.5 text-sm text-slate-200 focus:outline-none\" value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} />\r\n              </div>\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <label className=\"text-[10px] font-black text-slate-500 uppercase tracking-widest\">Status Financeiro</label>\r\n              <div className=\"flex p-1 bg-slate-900/50 rounded-xl border border-slate-700\">\r\n                {(['all', 'pending', 'paid'] as StatusFilter[]).map((f) => (\r\n                  <button key={f} onClick={() => setStatusFilter(f)} className={`flex-1 py-1.5 rounded-lg text-[10px] font-black uppercase transition-all ${statusFilter === f ? 'bg-emerald-500 text-white' : 'text-slate-500 hover:text-slate-300'}`}>\r\n                    {f === 'all' ? 'Todos' : f === 'pending' ? 'Pendentes' : 'Pagos'}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <label className=\"text-[10px] font-black text-slate-500 uppercase tracking-widest\">Ordenar Por</label>\r\n              <div className=\"relative\">\r\n                <select value={sortBy} onChange={(e) => setSortBy(e.target.value as SortOption)} className=\"w-full bg-slate-900/50 border border-slate-700 rounded-xl px-4 py-2.5 text-sm text-slate-200 appearance-none focus:outline-none\">\r\n                  <option value=\"recent\">Mais Recentes</option>\r\n                  <option value=\"profit\">Maior Lucratividade</option>\r\n                  <option value=\"gross\">Maior Valor Bruto</option>\r\n                </select>\r\n                <ChevronDown className=\"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500 pointer-events-none\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Listagem de Viagens */}\r\n      <div className=\"grid grid-cols-1 gap-4\">\r\n        {filteredAndSortedTrips.map(trip => {\r\n          const vehicle = vehicles.find(v => v.id === trip.vehicleId) || { plate: 'DOC. PENDENTE', name: 'Veículo não vinculado' } as Vehicle;\r\n          const driver = drivers.find(d => d.id === trip.driverId) || { name: 'Motorista não vinculado' } as Driver;\r\n          const tripFinance = calculateTripFinance(trip, vehicle, driver, profile);\r\n          return (\r\n            <div key={trip.id} className=\"bg-slate-800/40 border border-slate-700/50 rounded-3xl p-6 hover:bg-slate-800/60 transition-all group relative\">\r\n              <div className=\"flex flex-col lg:flex-row lg:items-center justify-between gap-6\">\r\n                <div className=\"flex items-start gap-4 lg:w-1/4\">\r\n                  <div className={`w-14 h-14 rounded-2xl flex items-center justify-center shrink-0 shadow-inner ${trip.status === 'Pago' ? 'bg-emerald-500/10 text-emerald-500' : 'bg-amber-500/10 text-amber-500'}`}>\r\n                    <MapPin className=\"w-7 h-7\" />\r\n                  </div>\r\n                  <div>\r\n                    <h4 className=\"font-black text-white text-lg leading-tight mb-1 group-hover:text-emerald-400 transition-colors\">{trip.destination || 'Destino Pendente'}</h4>\r\n                    <div className=\"flex flex-wrap items-center gap-2\">\r\n                      <span className=\"px-2 py-0.5 bg-slate-900 border border-slate-700 rounded text-[9px] font-black text-slate-400 uppercase\">{vehicle.plate}</span>\r\n                      <p className=\"text-slate-500 text-xs font-medium flex items-center gap-1.5\"><CalendarIcon className=\"w-3 h-3 text-emerald-500\" /> {formatDate(trip.departureDate)}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-6 flex-1 px-4 border-l border-slate-700/50\">\r\n                  <div className=\"space-y-1\">\r\n                    <p className=\"text-[9px] uppercase font-black text-slate-600 tracking-widest\">Equipe & Cliente</p>\r\n                    <p className=\"text-white text-sm font-bold truncate\">{driver.name}</p>\r\n                  </div>\r\n                  <div className=\"space-y-1\">\r\n                    <p className=\"text-[9px] uppercase font-black text-slate-600 tracking-widest\">Rentabilidade</p>\r\n                    <p className=\"text-emerald-500 text-sm font-black\">R$ {tripFinance.lucroLiquidoReal.toLocaleString()}</p>\r\n                  </div>\r\n                  <div className=\"hidden md:block space-y-1\">\r\n                    <p className=\"text-[9px] uppercase font-black text-slate-600 tracking-widest\">Recebimento</p>\r\n                    <div className={`flex items-center gap-1.5 text-xs font-black ${trip.status === 'Pago' ? 'text-emerald-500' : 'text-amber-500'}`}>\r\n                      {trip.status === 'Pago' ? <CheckCircle2 className=\"w-3.5 h-3.5\" /> : <AlertCircle className=\"w-3.5 h-3.5\" />} {trip.status}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-center justify-end gap-3 lg:w-auto\">\r\n                  <button onClick={() => setSelectedTripId(trip.id)} className=\"px-5 py-2.5 bg-slate-900 border border-slate-700 rounded-2xl text-xs font-black text-slate-300 hover:text-white hover:bg-slate-700 transition-all flex items-center gap-2\"> Recibo <ArrowUpDown className=\"w-3 h-3 text-emerald-500\" /> </button>\r\n                  <button onClick={() => setMenuOpenId(menuOpenId === trip.id ? null : trip.id)} className=\"p-3 bg-slate-900/50 border border-slate-800 rounded-2xl text-slate-500 hover:text-white\"> <MoreVertical className=\"w-5 h-5\" /> </button>\r\n                  {menuOpenId === trip.id && (\r\n                    <div className=\"absolute right-0 mt-3 w-56 bg-slate-900 border border-slate-700 rounded-2xl shadow-2xl z-20 py-2\">\r\n                      <button onClick={() => { setEditingTrip({ ...trip }); setMenuOpenId(null); }} className=\"w-full flex items-center gap-3 px-4 py-3 text-sm text-emerald-500 hover:bg-emerald-500/10 font-bold\"> <Edit3 className=\"w-4 h-4\" /> Editar </button>\r\n                      <button onClick={() => { setTripToDeleteId(trip.id); setMenuOpenId(null); }} className=\"w-full flex items-center gap-3 px-4 py-3 text-sm text-rose-500 hover:bg-rose-500/10 font-bold\"> <Trash2 className=\"w-4 h-4\" /> Excluir </button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      {/* Modal de Edição de Viagem - CORREÇÃO DE SCROLL */}\r\n      {editingTrip && (\r\n        <div className=\"fixed inset-0 bg-slate-950/95 backdrop-blur-xl z-[200] flex items-start justify-center p-4 overflow-y-auto\">\r\n          <div className=\"bg-slate-900 border border-slate-800 rounded-[2.5rem] w-full max-w-5xl my-auto shadow-2xl overflow-hidden flex flex-col\">\r\n            <header className=\"p-8 border-b border-slate-800 flex items-center justify-between sticky top-0 bg-slate-900/95 z-10\">\r\n              <div>\r\n                <h3 className=\"text-3xl font-black text-white tracking-tighter flex items-center gap-3\">\r\n                  <Edit3 className=\"w-8 h-8 text-emerald-500\" /> Editar Viagem #{editingTrip.id}\r\n                </h3>\r\n              </div>\r\n              <button onClick={() => setEditingTrip(null)} className=\"p-4 bg-slate-800 hover:bg-slate-700 text-slate-400 hover:text-white rounded-2xl transition-all\"> <X className=\"w-6 h-6\" /> </button>\r\n            </header>\r\n\r\n            <div className=\"p-8 grid grid-cols-1 lg:grid-cols-12 gap-8 max-h-[75vh] overflow-y-auto custom-scrollbar\">\r\n              <div className=\"lg:col-span-8 space-y-8\">\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                  <div className=\"space-y-2\">\r\n                    <label className=\"text-[10px] font-black text-slate-500 uppercase ml-1\">Data Saída</label>\r\n                    <input type=\"date\" value={editingTrip.departureDate} onChange={e => setEditingTrip({ ...editingTrip, departureDate: e.target.value })} className=\"w-full bg-slate-950 border border-slate-800 rounded-xl p-4 text-white font-bold\" />\r\n                  </div>\r\n                  <div className=\"space-y-2\">\r\n                    <label className=\"text-[10px] font-black text-slate-500 uppercase ml-1\">Retorno Previsto</label>\r\n                    <input type=\"date\" value={editingTrip.returnDate} onChange={e => setEditingTrip({ ...editingTrip, returnDate: e.target.value })} className=\"w-full bg-slate-950 border border-slate-800 rounded-xl p-4 text-white font-bold\" />\r\n                  </div>\r\n                </div>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                  <div className=\"space-y-2\">\r\n                    <label className=\"text-[10px] font-black text-slate-500 uppercase ml-1\">Status Pagamento</label>\r\n                    <select value={editingTrip.status} onChange={e => setEditingTrip({ ...editingTrip, status: e.target.value as PaymentStatus })} className=\"w-full bg-slate-950 border border-slate-800 rounded-xl p-4 text-white font-black\">\r\n                      <option value=\"Pendente\">Pendente</option><option value=\"Pago\">Pago</option>\r\n                    </select>\r\n                  </div>\r\n                  <div className=\"space-y-2\">\r\n                    <label className=\"text-[10px] font-black text-slate-500 uppercase ml-1\">Quilometragem (KM)</label>\r\n                    <input type=\"number\" value={editingTrip.totalKm || ''} onChange={e => setEditingTrip({ ...editingTrip, totalKm: Number(e.target.value) })} className=\"w-full bg-slate-950 border border-slate-800 rounded-xl p-4 text-white font-black\" />\r\n                  </div>\r\n                </div>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                  <div className=\"bg-slate-950 p-6 rounded-3xl border border-slate-800 space-y-4\">\r\n                    <h4 className=\"text-[10px] font-black text-slate-500 uppercase tracking-widest\">Receitas</h4>\r\n                    <input type=\"number\" value={editingTrip.freteSeco || ''} onChange={e => setEditingTrip({ ...editingTrip, freteSeco: Number(e.target.value) })} className=\"w-full bg-slate-900 border border-slate-800 rounded-lg p-3 text-white font-bold\" placeholder=\"Frete\" />\r\n                    <input type=\"number\" value={editingTrip.diarias || ''} onChange={e => setEditingTrip({ ...editingTrip, diarias: Number(e.target.value) })} className=\"w-full bg-slate-900 border border-slate-800 rounded-lg p-3 text-white font-bold\" placeholder=\"Diárias\" />\r\n                  </div>\r\n                  <div className=\"bg-slate-950 p-6 rounded-3xl border border-slate-800 space-y-4\">\r\n                    <h4 className=\"text-[10px] font-black text-slate-500 uppercase tracking-widest\">Diesel</h4>\r\n                    <input type=\"number\" value={editingTrip.combustivel || ''} onChange={e => setEditingTrip({ ...editingTrip, combustivel: Number(e.target.value) })} className=\"w-full bg-slate-900 border border-slate-800 rounded-lg p-3 text-sky-400 font-bold\" placeholder=\"Valor\" />\r\n                    <input type=\"number\" value={editingTrip.litersDiesel || ''} onChange={e => setEditingTrip({ ...editingTrip, litersDiesel: Number(e.target.value) })} className=\"w-full bg-slate-900 border border-slate-800 rounded-lg p-3 text-white\" placeholder=\"Litros\" />\r\n                  </div>\r\n                  <div className=\"bg-slate-950 p-6 rounded-3xl border border-slate-800 space-y-4\">\r\n                    <h4 className=\"text-[10px] font-black text-slate-500 uppercase tracking-widest\">Outros</h4>\r\n                    <input type=\"number\" value={editingTrip.adiantamento || ''} onChange={e => setEditingTrip({ ...editingTrip, adiantamento: Number(e.target.value) })} className=\"w-full bg-slate-900 border border-slate-800 rounded-lg p-3 text-white\" placeholder=\"Adiant.\" />\r\n                    <input type=\"number\" value={editingTrip.outrasDespesas || ''} onChange={e => setEditingTrip({ ...editingTrip, outrasDespesas: Number(e.target.value) })} className=\"w-full bg-slate-900 border border-slate-800 rounded-lg p-3 text-white\" placeholder=\"Despesas\" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"lg:col-span-4 space-y-6\">\r\n                <div className=\"bg-slate-950 border border-slate-800 rounded-[2rem] p-8 shadow-2xl sticky top-0\">\r\n                  <p className=\"text-[10px] font-black text-slate-500 uppercase text-center mb-4 tracking-widest\">Resultado Real Estimado</p>\r\n                  <h4 className=\"text-4xl font-black text-emerald-500 text-center tracking-tighter mb-8\">R$ {(editingTrip.freteSeco + editingTrip.diarias - editingTrip.combustivel - editingTrip.outrasDespesas).toLocaleString()}</h4>\r\n                  <button onClick={handleUpdate} className=\"w-full py-5 bg-emerald-500 hover:bg-emerald-600 text-emerald-950 font-black rounded-2xl flex items-center justify-center gap-3\"> <Save className=\"w-5 h-5\" /> Salvar </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Trips;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3643, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Arthu/Downloads/ribeirxlog%20app/pricing.ts"],"sourcesContent":["export const PIX_KEY = \"13988205888\";\r\nexport const WHATSAPP_NUMBER = \"5513988205888\";\r\n\r\nexport const PLANS = {\r\n    MENSAL: {\r\n        name: \"Mensal\",\r\n        price: \"R$ 59,90\",\r\n        period: \"/mês\",\r\n        vehicles: \"1 Veículo\",\r\n        ia: \"Básica\",\r\n        reports: \"PDF Padrão\"\r\n    },\r\n    ANUAL: {\r\n        name: \"Anual Profissional\",\r\n        price: \"R$ 497,00\",\r\n        period: \"/ano\",\r\n        vehicles: \"Frota Ilimitada\",\r\n        ia: \"Avançada (Golden Tips)\",\r\n        reports: \"BI Analytics + PDF\"\r\n    },\r\n    VITALICIO: {\r\n        name: \"Placa Única\",\r\n        price: \"R$ 297,00\",\r\n        period: \" único\",\r\n        vehicles: \"Vitalício p/ 1 Veículo\",\r\n        ia: \"Básica\",\r\n        reports: \"PDF Padrão\"\r\n    }\r\n};\r\n"],"names":[],"mappings":";;;;;;;;AAAO,MAAM,UAAU;AAChB,MAAM,kBAAkB;AAExB,MAAM,QAAQ;IACjB,QAAQ;QACJ,MAAM;QACN,OAAO;QACP,QAAQ;QACR,UAAU;QACV,IAAI;QACJ,SAAS;IACb;IACA,OAAO;QACH,MAAM;QACN,OAAO;QACP,QAAQ;QACR,UAAU;QACV,IAAI;QACJ,SAAS;IACb;IACA,WAAW;QACP,MAAM;QACN,OAAO;QACP,QAAQ;QACR,UAAU;QACV,IAAI;QACJ,SAAS;IACb;AACJ"}},
    {"offset": {"line": 3686, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Arthu/Downloads/ribeirxlog%20app/components/LandingPage.tsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport {\r\n    Check,\r\n    ChevronRight,\r\n    Truck,\r\n    TrendingUp,\r\n    BrainCircuit,\r\n    Clock,\r\n    ShieldCheck,\r\n    BarChart3,\r\n    DollarSign,\r\n    ArrowRight,\r\n    Zap,\r\n    LayoutDashboard,\r\n    Star,\r\n    Infinity,\r\n    Lock,\r\n    QrCode,\r\n    MessageSquare,\r\n    MousePointerClick,\r\n    MessageCircle\r\n} from 'lucide-react';\r\nimport { WHATSAPP_NUMBER } from '../pricing';\r\n\r\ninterface LandingPageProps {\r\n    onGetStarted: () => void;\r\n    onPurchase: (plan: string) => void;\r\n}\r\n\r\nconst LandingPage: React.FC<LandingPageProps> = ({ onGetStarted, onPurchase }) => {\r\n    const handleWhatsAppContact = () => {\r\n        const message = encodeURIComponent(\"Olá Arthur! Vi o Ribeirx Log e gostaria de tirar algumas dúvidas sobre os planos.\");\r\n        window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${message}`, '_blank');\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-slate-950 text-slate-200 selection:bg-emerald-500/30 font-sans antialiased overflow-x-hidden\">\r\n            {/* Background Decorativo - Grid Digital */}\r\n            <div className=\"fixed inset-0 z-0 pointer-events-none opacity-20\"\r\n                style={{ backgroundImage: 'radial-gradient(#10b981 0.5px, transparent 0.5px)', backgroundSize: '24px 24px' }}></div>\r\n\r\n            {/* Navbar Minimalista */}\r\n            <nav className=\"fixed top-0 left-0 right-0 z-50 bg-slate-950/80 backdrop-blur-xl border-b border-white/5\">\r\n                <div className=\"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-3 group cursor-pointer\" onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })}>\r\n                        <div className=\"w-10 h-10 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-xl flex items-center justify-center shadow-lg shadow-emerald-500/20 group-hover:scale-110 transition-transform\">\r\n                            <Truck className=\"text-slate-950 w-6 h-6\" />\r\n                        </div>\r\n                        <span className=\"text-xl font-black tracking-tighter text-white uppercase italic\">RIBEIRX<span className=\"text-emerald-500\">LOG</span></span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-6\">\r\n                        <button onClick={onGetStarted} className=\"text-slate-400 hover:text-white text-xs font-black uppercase tracking-widest transition-colors hidden md:block\">\r\n                            Login\r\n                        </button>\r\n                        <button\r\n                            onClick={onGetStarted}\r\n                            className=\"bg-emerald-500 text-slate-950 px-6 py-2.5 rounded-full font-black text-xs uppercase tracking-widest hover:bg-emerald-400 hover:scale-105 active:scale-95 transition-all shadow-xl shadow-emerald-500/20\"\r\n                        >\r\n                            Acessar Sistema\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n\r\n            {/* Hero Section - Premium & Impactful */}\r\n            <section className=\"relative pt-36 md:pt-44 pb-32 px-6\">\r\n                <div className=\"absolute top-0 left-1/2 -translate-x-1/2 w-full h-[600px] pointer-events-none\">\r\n                    <div className=\"absolute top-[10%] left-[20%] w-[300px] h-[300px] bg-emerald-500/10 blur-[80px] rounded-full animate-pulse\" />\r\n                    <div className=\"absolute top-[20%] right-[10%] w-[250px] h-[250px] bg-sky-500/5 blur-[60px] rounded-full\" />\r\n                </div>\r\n\r\n                <div className=\"max-w-7xl mx-auto relative z-10 text-center\">\r\n                    <div className=\"inline-flex items-center gap-2 px-4 py-2 bg-emerald-500/10 border border-emerald-500/20 rounded-full text-emerald-400 text-[10px] font-black uppercase tracking-[0.2em] mb-10\">\r\n                        <ShieldCheck className=\"w-3 h-3\" /> Gestão Logística de Nova Geração\r\n                    </div>\r\n                    <h1 className=\"text-5xl md:text-9xl font-black text-white tracking-[-0.05em] leading-[0.9] md:leading-[0.85] mb-8 md:mb-10\">\r\n                        A Inteligência que seu <br className=\"hidden md:block\" />\r\n                        <span className=\"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 via-emerald-100 to-sky-400\">Lucro Precisava.</span>\r\n                    </h1>\r\n                    <p className=\"text-lg md:text-2xl text-slate-400 max-w-3xl mx-auto mb-16 font-medium leading-relaxed\">\r\n                        Abandone as planilhas. O Ribeirx Log automatiza seus fretes,\r\n                        monitora sua frota e usa IA para maximizar seu lucro líquido em cada KM.\r\n                    </p>\r\n                    <div className=\"flex flex-col sm:flex-row items-center justify-center gap-4\">\r\n                        <button\r\n                            onClick={onGetStarted}\r\n                            className=\"w-full sm:w-auto px-10 py-5 bg-emerald-500 hover:bg-emerald-400 text-slate-950 font-black rounded-2xl flex items-center justify-center gap-3 shadow-2xl shadow-emerald-500/30 transition-all text-lg hover:ring-4 ring-emerald-500/20\"\r\n                        >\r\n                            Começar Agora <ChevronRight className=\"w-5 h-5\" />\r\n                        </button>\r\n                        <a href=\"#planos\" className=\"w-full sm:w-auto px-10 py-5 bg-white/5 hover:bg-white/10 border border-white/10 text-white font-bold rounded-2xl transition-all\">\r\n                            Conhecer Planos\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            {/* Features Grid */}\r\n            <section className=\"py-20 bg-slate-900/50 relative border-y border-white/5\">\r\n                <div className=\"max-w-7xl mx-auto px-6\">\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\r\n                        <FeatureCard\r\n                            icon={TrendingUp}\r\n                            color=\"emerald\"\r\n                            title=\"Lucro Real 100%\"\r\n                            desc=\"Saiba quanto sobrou de verdade, descontando diesel, comissões, taxas e pneus automaticamente.\"\r\n                        />\r\n                        <FeatureCard\r\n                            icon={BrainCircuit}\r\n                            color=\"sky\"\r\n                            title=\"Ribeirx AI Insights\"\r\n                            desc=\"Nossa IA analisa suas rotas e avisa quais clientes e destinos estão gerando mais margem líquida.\"\r\n                        />\r\n                        <FeatureCard\r\n                            icon={Clock}\r\n                            color=\"amber\"\r\n                            title=\"Frota Zero Parada\"\r\n                            desc=\"Alertas inteligentes de manutenção preventiva para você nunca mais ser pego de surpresa na oficina.\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            {/* Pricing */}\r\n            <section id=\"planos\" className=\"py-32 relative\">\r\n                <div className=\"max-w-7xl mx-auto px-6 mb-20 text-center space-y-4\">\r\n                    <div className=\"inline-flex items-center gap-2 px-4 py-2 bg-emerald-500/10 border border-emerald-500/20 rounded-full text-emerald-500 text-[10px] font-black uppercase tracking-widest\">\r\n                        <Star className=\"w-3 h-3\" /> Tabelas & Planos\r\n                    </div>\r\n                    <h2 className=\"text-4xl md:text-6xl font-black text-white tracking-tighter\">Planos para quem Vive da Estrada.</h2>\r\n                    <p className=\"text-slate-400 max-w-2xl mx-auto text-sm\">Escolha a parceria ideal para profissionalizar sua frota e escalar seus resultados.</p>\r\n                </div>\r\n\r\n                <div className=\"max-w-7xl mx-auto px-6 mb-32 grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n                    <LandingPricingCard\r\n                        title=\"Mensal\"\r\n                        price=\"R$ 59,90\"\r\n                        period=\"/mês\"\r\n                        desc=\"Para quem está começando a organizar a casa agora.\"\r\n                        features={[\"1 Veículo Ativo\", \"Dashboards IA\", \"Controle de Fretes\", \"Relatórios em PDF\"]}\r\n                        onSelect={() => onPurchase('Mensal')}\r\n                    />\r\n                    <LandingPricingCard\r\n                        title=\"Anual Profissional\"\r\n                        price=\"R$ 497,00\"\r\n                        period=\"/ano\"\r\n                        isPopular\r\n                        desc=\"O melhor custo-benefício para frotas e empresas.\"\r\n                        features={[\"Frota Ilimitada\", \"IA Avançada (Golden Tips)\", \"Ranking de Performance\", \"Suporte VIP\", \"Economia de 2 meses\"]}\r\n                        onSelect={() => onPurchase('Anual')}\r\n                    />\r\n                    <LandingPricingCard\r\n                        title=\"Placa Única\"\r\n                        price=\"R$ 297,00\"\r\n                        period=\" único\"\r\n                        desc=\"Pague uma vez e use para sempre sem mensalidades.\"\r\n                        features={[\"Vitalício p/ 1 Veículo\", \"Todas as Ferramentas\", \"Histórico Permanente\", \"Sem Custos de Manutenção\"]}\r\n                        onSelect={() => onPurchase('Vitalício')}\r\n                    />\r\n                </div>\r\n            </section>\r\n\r\n            {/* Como Funciona */}\r\n            <section className=\"py-24 bg-slate-900 border-y border-white/5 relative overflow-hidden\">\r\n                <div className=\"absolute inset-0 bg-emerald-500/5 blur-[120px] rounded-full -translate-x-1/2 translate-y-1/2 pointer-events-none\" />\r\n\r\n                <div className=\"max-w-7xl mx-auto px-6 relative z-10 text-center mb-16\">\r\n                    <h3 className=\"text-3xl md:text-5xl font-black text-white tracking-tighter mb-4\">Como Começar? É Simples.</h3>\r\n                    <p className=\"text-slate-400 max-w-xl mx-auto text-sm\">Siga os 3 passos para profissionalizar sua gestão hoje mesmo.</p>\r\n                </div>\r\n\r\n                <div className=\"max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-12 relative z-10\">\r\n                    <StepItem\r\n                        icon={MousePointerClick}\r\n                        step=\"01\"\r\n                        title=\"Crie sua Conta\"\r\n                        desc=\"Clique em 'Acessar Sistema' e crie sua conta em segundos para vincular sua licença.\"\r\n                    />\r\n                    <StepItem\r\n                        icon={QrCode}\r\n                        step=\"02\"\r\n                        title=\"Pagamento Pix\"\r\n                        desc=\"Dentro do painel, você verá a chave Pix para realizar o pagamento do plano escolhido.\"\r\n                    />\r\n                    <StepItem\r\n                        icon={MessageSquare}\r\n                        step=\"03\"\r\n                        title=\"Liberação Arthur\"\r\n                        desc=\"Envie o comprovante pelo WhatsApp. Nossa equipe liberará seu acesso em minutos.\"\r\n                        action={{ label: \"Chamar Arthur\", onClick: handleWhatsAppContact }}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"mt-20 text-center relative z-10\">\r\n                    <button\r\n                        onClick={handleWhatsAppContact}\r\n                        className=\"inline-flex items-center gap-3 px-8 py-4 bg-emerald-500/10 border border-emerald-500/20 rounded-2xl text-emerald-500 font-bold hover:bg-emerald-500 hover:text-slate-950 transition-all group\"\r\n                    >\r\n                        <MessageCircle className=\"w-5 h-5 group-hover:scale-110 transition-transform\" /> Ainda com dúvidas? Fale conosco no WhatsApp\r\n                    </button>\r\n                </div>\r\n            </section>\r\n\r\n            {/* Tabela Comparativa Detalhada */}\r\n            <section className=\"py-32 relative\">\r\n                <div className=\"max-w-5xl mx-auto px-6\">\r\n                    <div className=\"bg-slate-900 border border-slate-800 rounded-[3rem] overflow-hidden shadow-2xl relative\">\r\n                        <div className=\"absolute top-0 right-0 p-10 opacity-5 pointer-events-none text-sky-500\">\r\n                            <BarChart3 className=\"w-48 h-48\" />\r\n                        </div>\r\n                        <div className=\"p-10 border-b border-slate-800 bg-slate-800/20 flex items-center gap-4 relative z-10\">\r\n                            <LayoutDashboard className=\"w-8 h-8 text-sky-500\" />\r\n                            <div>\r\n                                <h3 className=\"text-xl font-black text-white uppercase tracking-tighter\">Comparativo Detalhado de Recursos</h3>\r\n                                <p className=\"text-[10px] text-slate-500 font-bold uppercase tracking-widest mt-1\">Veja por que o Profissional é a melhor escolha</p>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"overflow-x-auto relative z-10\">\r\n                            <table className=\"w-full text-sm text-left border-collapse\">\r\n                                <thead>\r\n                                    <tr className=\"border-b border-slate-800 text-[10px] font-black text-slate-500 uppercase tracking-widest bg-slate-900/50\">\r\n                                        <th className=\"p-8\">Funcionalidade</th>\r\n                                        <th className=\"p-8\">Mensal</th>\r\n                                        <th className=\"p-8 text-emerald-500\">Anual Profissional</th>\r\n                                        <th className=\"p-8\">Placa Única</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody className=\"divide-y divide-slate-800\">\r\n                                    <LandingTableRow label=\"Limite de Veículos\" v1=\"1 Veículo\" v2=\"Frota Ilimitada\" v3=\"1 Veículo (Vitalício)\" />\r\n                                    <LandingTableRow label=\"Inteligência Artificial\" v1=\"Básica\" v2=\"Avançada (Ribeirx AI)\" v3=\"Básica\" />\r\n                                    <LandingTableRow label=\"Análise de Performance\" v1=\"Não\" v2=\"Sim (Rankings)\" v3=\"Não\" />\r\n                                    <LandingTableRow label=\"Suporte Técnico\" v1=\"Padrão\" v2=\"WhatsApp Prioritário\" v3=\"Padrão\" />\r\n                                    <LandingTableRow label=\"Gestão de Custos\" v1=\"Completa\" v2=\"Completa + Automatizada\" v3=\"Completa\" />\r\n                                    <LandingTableRow label=\"Custo de Atualização\" v1=\"Grátis\" v2=\"Incluso\" v3=\"Grátis p/ Sempre\" />\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            {/* Footer */}\r\n            <footer className=\"py-20 border-t border-white/5 text-center\">\r\n                <div className=\"max-w-7xl mx-auto px-6\">\r\n                    <div className=\"flex items-center justify-center gap-3 mb-8\">\r\n                        <div className=\"w-8 h-8 bg-emerald-500 rounded-lg flex items-center justify-center\">\r\n                            <Truck className=\"text-slate-950 w-5 h-5\" />\r\n                        </div>\r\n                        <span className=\"text-lg font-black tracking-tighter text-white uppercase italic\">Ribeirx Log v2.0</span>\r\n                    </div>\r\n                    <p className=\"text-slate-500 text-sm\">© 2026 Ribeirx Logística Inteligente. Todos os direitos reservados.</p>\r\n                    <p className=\"text-slate-500 text-[10px] uppercase font-black tracking-widest mt-4 flex items-center justify-center gap-2\">\r\n                        <ShieldCheck className=\"w-3 h-3 text-emerald-500\" /> Sistema Seguro & ISO-Compliant\r\n                    </p>\r\n                </div>\r\n            </footer>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst FeatureCard = ({ icon: Icon, title, desc, color }: any) => (\r\n    <div className=\"bg-slate-900 border border-white/5 p-8 rounded-[2.5rem] hover:bg-slate-800 transition-all group\">\r\n        <div className={`w-12 h-12 rounded-2xl flex items-center justify-center mb-6 shadow-xl ${color === 'emerald' ? 'bg-emerald-500/10 text-emerald-500 shadow-emerald-500/5' :\r\n            color === 'sky' ? 'bg-sky-500/10 text-sky-500 shadow-sky-500/5' :\r\n                'bg-amber-500/10 text-amber-500 shadow-amber-500/5'\r\n            }`}>\r\n            <Icon className=\"w-6 h-6 group-hover:scale-110 transition-transform\" />\r\n        </div>\r\n        <h3 className=\"text-xl font-bold text-white mb-2\">{title}</h3>\r\n        <p className=\"text-slate-400 text-sm leading-relaxed\">{desc}</p>\r\n    </div>\r\n);\r\n\r\nconst LandingPricingCard = ({ title, price, period, desc, features, isPopular, onSelect }: any) => (\r\n    <div className={`p-6 md:p-12 rounded-[2.5rem] md:rounded-[3.5rem] flex flex-col transition-all border relative overflow-hidden group ${isPopular ? 'bg-slate-900 border-emerald-500/50 scale-105 shadow-2xl z-10' : 'bg-slate-900 border-white/5 hover:border-white/10'}`}>\r\n        {isPopular && (\r\n            <div className=\"absolute top-4 right-4 md:top-6 md:right-6 px-3 py-1 md:px-4 md:py-1.5 bg-emerald-500 text-slate-950 rounded-full text-[8px] md:text-[10px] font-black uppercase tracking-widest\">\r\n                Recomendado\r\n            </div>\r\n        )}\r\n        <h3 className=\"text-2xl font-black text-white uppercase tracking-tighter mb-2\">{title}</h3>\r\n        <p className=\"text-[10px] text-slate-500 font-bold uppercase tracking-widest mb-8\">{desc}</p>\r\n        <div className=\"mb-10\">\r\n            <span className=\"text-5xl font-black text-white\">{price}</span>\r\n            <span className=\"text-slate-500 text-sm font-bold tracking-tighter ml-1\">{period}</span>\r\n        </div>\r\n        <div className=\"space-y-5 mb-12 flex-1\">\r\n            {features.map((f: string, i: number) => (\r\n                <div key={i} className=\"flex items-center gap-4 text-xs text-slate-400 font-medium\">\r\n                    <Check className=\"w-5 h-5 text-emerald-500 shrink-0\" /> {f}\r\n                </div>\r\n            ))}\r\n        </div>\r\n        <button\r\n            onClick={onSelect}\r\n            className={`w-full py-6 rounded-3xl font-black text-xs uppercase tracking-widest transition-all ${isPopular ? 'bg-emerald-500 text-slate-950 hover:bg-emerald-400 shadow-xl shadow-emerald-500/20 active:scale-95' : 'bg-white/5 text-white hover:bg-white/10 border border-white/10'}`}\r\n        >\r\n            Escolher Plano\r\n        </button>\r\n    </div>\r\n);\r\n\r\nconst LandingTableRow = ({ label, v1, v2, v3 }: any) => (\r\n    <tr className=\"hover:bg-white/[0.02] transition-colors last:border-0 border-slate-800\">\r\n        <td className=\"p-8 text-slate-400 font-medium whitespace-nowrap\">{label}</td>\r\n        <td className=\"p-8 text-white font-bold\">{v1}</td>\r\n        <td className=\"p-8 text-emerald-400 font-black text-lg\">{v2}</td>\r\n        <td className=\"p-8 text-white font-bold\">{v3}</td>\r\n    </tr>\r\n);\r\n\r\nconst StepItem = ({ icon: Icon, step, title, desc, action }: any) => (\r\n    <div className=\"flex flex-col items-center text-center group\">\r\n        <div className=\"relative mb-8\">\r\n            <div className=\"w-20 h-20 bg-slate-800 border border-white/10 rounded-[2rem] flex items-center justify-center shadow-xl group-hover:bg-emerald-500/10 group-hover:border-emerald-500/50 transition-all\">\r\n                <Icon className=\"w-8 h-8 text-emerald-500\" />\r\n            </div>\r\n            <div className=\"absolute -top-4 -right-4 w-10 h-10 bg-emerald-500 text-slate-950 rounded-full flex items-center justify-center font-black text-xs shadow-lg\">\r\n                {step}\r\n            </div>\r\n        </div>\r\n        <h4 className=\"text-xl font-bold text-white mb-3\">{title}</h4>\r\n        <p className=\"text-slate-400 text-sm leading-relaxed max-w-[250px] mb-4\">{desc}</p>\r\n        {action && (\r\n            <button\r\n                onClick={action.onClick}\r\n                className=\"text-xs text-emerald-500 font-black uppercase tracking-widest flex items-center gap-2 hover:text-emerald-400 transition-colors\"\r\n            >\r\n                {action.label} <ArrowRight className=\"w-4 h-4\" />\r\n            </button>\r\n        )}\r\n    </div>\r\n);\r\n\r\nexport default LandingPage;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4774, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Arthu/Downloads/ribeirxlog%20app/services/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\r\n\r\nif (!supabaseUrl || !supabaseAnonKey) {\r\n  throw new Error('Supabase URL or Anon Key missing in environment variables');\r\n}\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\r\n"],"names":[],"mappings":";;;;AAEoB;AAFpB;;AAEA,MAAM;AACN,MAAM;AAEN;;AAIO,MAAM,WAAW,IAAA,iMAAY,EAAC,aAAa"}},
    {"offset": {"line": 4793, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Arthu/Downloads/ribeirxlog%20app/constants.tsx"],"sourcesContent":["\nimport { Vehicle, Driver, Shipper, Trip, UserProfile, VehiclePropertyType, MaintenanceRecord } from './types';\n\nexport const INITIAL_PROFILE: UserProfile = {\n  name: '',\n  email: '',\n  companyName: '',\n  config: {\n    percMotFrete: 10,\n    percMotDiaria: 30,\n    autoSplitSociety: true,\n    showMileage: true,\n    paymentAlertDays: 7,\n    notifyIncompleteData: true,\n    notifyMaintenance: true,\n    showTips: true,\n    enableMaintenance: true,\n    enableBI: true,\n    appMode: 'simple'\n  }\n};\n"],"names":[],"mappings":";;;;AAGO,MAAM,kBAA+B;IAC1C,MAAM;IACN,OAAO;IACP,aAAa;IACb,QAAQ;QACN,cAAc;QACd,eAAe;QACf,kBAAkB;QAClB,aAAa;QACb,kBAAkB;QAClB,sBAAsB;QACtB,mBAAmB;QACnB,UAAU;QACV,mBAAmB;QACnB,UAAU;QACV,SAAS;IACX;AACF"}},
    {"offset": {"line": 4822, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Arthu/Downloads/ribeirxlog%20app/app/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect, Suspense } from 'react';\r\nimport { useUser, SignIn, SignUp, useAuth } from \"@clerk/nextjs\";\r\nimport Sidebar from '../components/Sidebar';\r\nimport Header from '../components/Header';\r\nimport Dashboard from '../components/Dashboard';\r\nimport Trips from '../components/Trips';\r\nconst Performance = React.lazy(() => import('../components/Performance'));\r\nconst Settings = React.lazy(() => import('../components/Settings'));\r\nconst Subscription = React.lazy(() => import('../components/SubscriptionView'));\r\nconst NewTrip = React.lazy(() => import('../components/NewTrip'));\r\nconst FleetHealth = React.lazy(() => import('../components/FleetHealth'));\r\nconst Setup = React.lazy(() => import('../components/Setup'));\r\nconst TireManagement = React.lazy(() => import('../components/TireManagement'));\r\nconst StrategicIntelligence = React.lazy(() => import('../components/StrategicIntelligence'));\r\nconst AdminPanel = React.lazy(() => import('../components/AdminPanel'));\r\n\r\nimport LandingPage from '../components/LandingPage';\r\nimport Paywall from '../components/Paywall';\r\nimport { supabase } from '../services/supabase';\r\nimport { Settings as SettingsIcon, LayoutDashboard, Truck, PlusCircle, CheckCircle2, AlertTriangle, Menu, X, Users, TrendingUp, ShieldAlert, CreditCard, RefreshCcw, Share2, Disc, Brain, ShieldCheck, Lock, Gauge, ArrowRightLeft } from 'lucide-react';\r\nimport {\r\n    UserProfile,\r\n    Vehicle,\r\n    Buggy,\r\n    Driver,\r\n    Shipper,\r\n    Tire,\r\n    Trip,\r\n    TabType,\r\n    AppNotification,\r\n    MaintenanceRecord,\r\n    MaintenanceThresholds\r\n} from '../types';\r\nimport {\r\n    INITIAL_PROFILE\r\n} from '../constants';\r\nimport { WHATSAPP_NUMBER } from '../pricing';\r\n\r\nconst APP_VERSION = '1.6.0-next';\r\n\r\nimport { AppModeProvider } from '../contexts/AppModeContext';\r\nimport { generateMockData } from '../services/demoData';\r\n\r\nexport default function Home() {\r\n    const { isLoaded, isSignedIn, user } = useUser();\r\n    const { signOut } = useAuth();\r\n\r\n    const [profile, setProfile] = useState<UserProfile>(INITIAL_PROFILE);\r\n    const [loadingData, setLoadingData] = useState(false);\r\n    const [activeTab, setActiveTab] = useState<TabType>('setup');\r\n    const [showAuth, setShowAuth] = useState(false);\r\n    const [authMode, setAuthMode] = useState<'signin' | 'signup'>('signin');\r\n    const [pendingPlanIntent, setPendingPlanIntent] = useState<string | null>(null);\r\n    const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\r\n    const [toast, setToast] = useState<{ type: 'success' | 'error' | 'info', message: string } | null>(null);\r\n    const [refreshTrigger, setRefreshTrigger] = useState(0);\r\n    const [mounted, setMounted] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setMounted(true);\r\n    }, []);\r\n\r\n    // State Declarations\r\n    const [notifications, setNotifications] = useState<AppNotification[]>([]);\r\n    const [trips, setTrips] = useState<Trip[]>([]);\r\n    const [vehicles, setVehicles] = useState<Vehicle[]>([]);\r\n    const [buggies, setBuggies] = useState<Buggy[]>([]);\r\n    const [drivers, setDrivers] = useState<Driver[]>([]);\r\n    const [shippers, setShippers] = useState<Shipper[]>([]);\r\n    const [tires, setTires] = useState<Tire[]>([]);\r\n    const [maintenances, setMaintenances] = useState<MaintenanceRecord[]>([]);\r\n\r\n    const showToast = (message: string, type: 'success' | 'error' | 'info' = 'success') => {\r\n        setToast({ message, type });\r\n        setTimeout(() => setToast(null), 3000);\r\n    };\r\n\r\n    // Sync profile email with Clerk\r\n    useEffect(() => {\r\n        if (user?.primaryEmailAddress?.emailAddress && !profile.email) {\r\n            setProfile(prev => ({ ...prev, email: user.primaryEmailAddress!.emailAddress }));\r\n        }\r\n    }, [user, profile.email]);\r\n\r\n    // Theme Handler\r\n    useEffect(() => {\r\n        if (profile.config.theme === 'light') {\r\n            document.documentElement.classList.add('light-mode');\r\n            document.documentElement.classList.remove('dark');\r\n        } else {\r\n            document.documentElement.classList.remove('light-mode');\r\n            document.documentElement.classList.add('dark');\r\n        }\r\n    }, [profile.config.theme]);\r\n\r\n    // Data Loading\r\n    useEffect(() => {\r\n        if (isSignedIn && user?.id) {\r\n            setLoadingData(true);\r\n            const fetchData = async () => {\r\n                try {\r\n                    const { data: profileData, error: profileError } = await supabase.from('profiles').select('*').eq('id', user.id).single();\r\n\r\n                    if (profileData) {\r\n                        let parsedConfig = INITIAL_PROFILE.config;\r\n                        if (profileData.config) {\r\n                            parsedConfig = typeof profileData.config === 'string' ? JSON.parse(profileData.config) : profileData.config;\r\n                        }\r\n                        setProfile({\r\n                            ...profileData,\r\n                            companyName: profileData.company_name,\r\n                            logoUrl: profileData.logo_url,\r\n                            signatureUrl: profileData.signature_url,\r\n                            config: parsedConfig\r\n                        } as any);\r\n\r\n                        // If profile exists and it's the first time, maybe we don't need mock data anymore \r\n                        // but the original logic had it for \"preview\" users.\r\n                    } else if (profileError?.code === 'PGRST116') {\r\n                        // New User - Create Profile\r\n                        await supabase.from('profiles').insert({\r\n                            id: user.id,\r\n                            email: user.primaryEmailAddress?.emailAddress,\r\n                            name: user.fullName || user.username\r\n                        });\r\n                    }\r\n\r\n                    const loadTable = async (table: string, setter: any, mapper?: any) => {\r\n                        const { data, error } = await supabase.from(table).select('*').eq('user_id', user.id);\r\n                        if (!error && data) setter(mapper ? data.map(mapper) : data);\r\n                    };\r\n\r\n                    await Promise.all([\r\n                        loadTable('trips', setTrips, (t: any) => ({\r\n                            ...t,\r\n                            vehicleId: t.vehicle_id,\r\n                            driverId: t.driver_id,\r\n                            shipperId: t.shipper_id,\r\n                            departureDate: t.departure_date,\r\n                            returnDate: t.return_date,\r\n                            receiptDate: t.receipt_date,\r\n                            freteSeco: Number(t.frete_seco),\r\n                            diarias: Number(t.diarias),\r\n                            adiantamento: Number(t.adiantamento),\r\n                            combustivel: Number(t.combustivel),\r\n                            litersDiesel: Number(t.liters_diesel),\r\n                            outrasDespesas: Number(t.outras_despesas),\r\n                            totalKm: Number(t.total_km)\r\n                        })),\r\n                        loadTable('vehicles', setVehicles, (v: any) => ({\r\n                            ...v,\r\n                            totalKmAccumulated: Number(v.total_km_accumulated),\r\n                            lastMaintenanceKm: Number(v.last_maintenance_km),\r\n                            societySplitFactor: v.society_split_factor,\r\n                            photoUrl: v.photo_url\r\n                        })),\r\n                        loadTable('drivers', setDrivers, (d: any) => ({\r\n                            ...d,\r\n                            cnhCategory: d.cnh_category,\r\n                            cnhValidity: d.cnh_validity,\r\n                            pixKey: d.pix_key,\r\n                            photoUrl: d.photo_url,\r\n                            customCommission: d.custom_commission\r\n                        })),\r\n                        loadTable('shippers', setShippers, (s: any) => ({\r\n                            ...s,\r\n                            cnpj: s.cnpj_cpf,\r\n                            avgPaymentDays: s.avg_payment_days,\r\n                            logoUrl: s.logo_url\r\n                        })),\r\n                        loadTable('buggies', setBuggies, (b: any) => ({\r\n                            ...b,\r\n                            tireType: b.tire_type\r\n                        })),\r\n                        loadTable('tires', setTires, (t: any) => ({\r\n                            ...t,\r\n                            serialNumber: t.serial_number,\r\n                            vehicleId: t.vehicle_id,\r\n                            buggyId: t.buggy_id,\r\n                            currentKm: Number(t.current_km),\r\n                            cost: Number(t.cost),\r\n                            installDate: t.install_date\r\n                        })),\r\n                        loadTable('maintenance_records', setMaintenances)\r\n                    ]);\r\n                } catch (error) {\r\n                    console.error('Error loading data', error);\r\n                } finally {\r\n                    setLoadingData(false);\r\n                }\r\n            };\r\n            fetchData();\r\n        }\r\n    }, [isSignedIn, user?.id, refreshTrigger]);\r\n\r\n    const handleLandingPurchase = (plan: string) => {\r\n        const message = encodeURIComponent(`Olá Arthur! Estou na Landing Page e tenho interesse no plano ${plan}. Como faço para prosseguir com o pagamento?`);\r\n        window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${message}`, '_blank');\r\n        setPendingPlanIntent(plan);\r\n        setShowAuth(true);\r\n    };\r\n\r\n    const handleSaveTrip = async (newTrip: Trip) => {\r\n        if (!user) return;\r\n        showToast('Salvando viagem...', 'info');\r\n        try {\r\n            const { data, error } = await supabase.from('trips').insert({\r\n                user_id: user.id,\r\n                origin: newTrip.origin,\r\n                destination: newTrip.destination,\r\n                vehicle_id: newTrip.vehicleId === 'generic-vehicle' ? null : newTrip.vehicleId,\r\n                driver_id: newTrip.driverId === 'generic-driver' ? null : newTrip.driverId,\r\n                shipper_id: newTrip.shipperId === 'generic-shipper' ? null : newTrip.shipperId,\r\n                departure_date: newTrip.departureDate || null,\r\n                return_date: newTrip.returnDate || null,\r\n                receipt_date: newTrip.receiptDate || null,\r\n                frete_seco: Number(newTrip.freteSeco || 0),\r\n                diarias: Number(newTrip.diarias || 0),\r\n                adiantamento: Number(newTrip.adiantamento || 0),\r\n                combustivel: Number(newTrip.combustivel || 0),\r\n                liters_diesel: Number(newTrip.litersDiesel || 0),\r\n                outras_despesas: Number(newTrip.outrasDespesas || 0),\r\n                status: newTrip.status || 'Pendente',\r\n                total_km: Number(newTrip.totalKm || 0)\r\n            }).select().single();\r\n\r\n            if (error) throw error;\r\n            if (data) {\r\n                setTrips(prev => [{\r\n                    ...data,\r\n                    vehicleId: data.vehicle_id,\r\n                    driverId: data.driver_id,\r\n                    shipperId: data.shipper_id,\r\n                    departureDate: data.departure_date,\r\n                    returnDate: data.return_date,\r\n                    receiptDate: data.receipt_date,\r\n                    freteSeco: Number(data.frete_seco || 0),\r\n                    diarias: Number(data.diarias || 0),\r\n                    adiantamento: Number(data.adiantamento || 0),\r\n                    combustivel: Number(data.combustivel || 0),\r\n                    litersDiesel: Number(data.liters_diesel || 0),\r\n                    outrasDespesas: Number(data.outras_despesas || 0),\r\n                    totalKm: Number(data.total_km || 0)\r\n                }, ...prev]);\r\n                showToast('Viagem salva!', 'success');\r\n                setActiveTab('trips');\r\n            }\r\n        } catch (err: any) {\r\n            showToast(`Erro: ${err.message}`, 'error');\r\n        }\r\n    };\r\n\r\n    const handleUpdateTrip = async (updatedTrip: Trip) => {\r\n        if (!user) return;\r\n        showToast('Atualizando viagem...', 'info');\r\n        try {\r\n            const { error } = await supabase.from('trips').update({\r\n                origin: updatedTrip.origin,\r\n                destination: updatedTrip.destination,\r\n                vehicle_id: updatedTrip.vehicleId,\r\n                driver_id: updatedTrip.driverId,\r\n                shipper_id: updatedTrip.shipperId,\r\n                departure_date: updatedTrip.departureDate || null,\r\n                return_date: updatedTrip.returnDate || null,\r\n                receipt_date: updatedTrip.receiptDate || null,\r\n                frete_seco: Number(updatedTrip.freteSeco),\r\n                diarias: Number(updatedTrip.diarias),\r\n                adiantamento: Number(updatedTrip.adiantamento),\r\n                combustivel: Number(updatedTrip.combustivel),\r\n                liters_diesel: Number(updatedTrip.litersDiesel),\r\n                outras_despesas: Number(updatedTrip.outrasDespesas),\r\n                status: updatedTrip.status,\r\n                total_km: Number(updatedTrip.totalKm)\r\n            }).eq('id', updatedTrip.id);\r\n\r\n            if (error) throw error;\r\n\r\n            const oldTrip = trips.find(t => t.id === updatedTrip.id);\r\n            if (oldTrip && oldTrip.totalKm !== updatedTrip.totalKm) {\r\n                const kmDiff = (updatedTrip.totalKm || 0) - (oldTrip.totalKm || 0);\r\n                const vehicle = vehicles.find(v => v.id === updatedTrip.vehicleId);\r\n                if (vehicle) {\r\n                    const newKm = (vehicle.totalKmAccumulated || 0) + kmDiff;\r\n                    await supabase.from('vehicles').update({ total_km_accumulated: newKm }).eq('id', updatedTrip.vehicleId);\r\n                    setVehicles(prev => prev.map(v => v.id === updatedTrip.vehicleId ? { ...v, totalKmAccumulated: newKm } : v));\r\n                }\r\n            }\r\n            setTrips(prev => prev.map(t => t.id === updatedTrip.id ? updatedTrip : t));\r\n            showToast('Viagem atualizada!', 'success');\r\n        } catch (err: any) {\r\n            showToast(`Erro ao atualizar: ${err.message}`, 'error');\r\n        }\r\n    };\r\n\r\n    const handleSaveMaintenance = async (record: MaintenanceRecord) => {\r\n        if (!user) return;\r\n        const { data: saved, error } = await supabase.from('maintenance_records').insert({\r\n            vehicle_id: record.vehicleId,\r\n            date: record.date,\r\n            km_at_maintenance: record.kmAtMaintenance,\r\n            type: record.type,\r\n            description: record.description,\r\n            total_cost: record.totalCost,\r\n            provider: record.provider,\r\n            user_id: user.id\r\n        }).select().single();\r\n\r\n        if (error) {\r\n            showToast('Erro ao salvar manutenção', 'error');\r\n            return;\r\n        }\r\n\r\n        const formatted = { ...saved, vehicleId: saved.vehicle_id, kmAtMaintenance: Number(saved.km_at_maintenance), totalCost: Number(saved.total_cost) };\r\n        setMaintenances([formatted, ...maintenances]);\r\n\r\n        await supabase.from('vehicles').update({ last_maintenance_km: record.kmAtMaintenance }).eq('id', record.vehicleId);\r\n        setVehicles(prev => prev.map(v => v.id === record.vehicleId ? { ...v, lastMaintenanceKm: record.kmAtMaintenance } : v));\r\n        showToast('Manutenção salva!', 'success');\r\n    };\r\n    const handleUpdateVehicles = () => setRefreshTrigger(prev => prev + 1);\r\n    const handleUpdateDrivers = () => setRefreshTrigger(prev => prev + 1);\r\n    const handleUpdateShippers = () => setRefreshTrigger(prev => prev + 1);\r\n    const handleUpdateBuggies = () => setRefreshTrigger(prev => prev + 1);\r\n\r\n    const handleUpdateProfile = async (newProfile: UserProfile) => {\r\n        setProfile(newProfile);\r\n        if (user) {\r\n            await supabase.from('profiles').upsert({\r\n                id: user.id,\r\n                name: newProfile.name,\r\n                email: user.primaryEmailAddress?.emailAddress,\r\n                company_name: newProfile.companyName,\r\n                logo_url: newProfile.logoUrl,\r\n                signature_url: newProfile.signatureUrl,\r\n                phone: newProfile.phone,\r\n                config: newProfile.config,\r\n                payment_status: newProfile.payment_status,\r\n                plan_type: newProfile.plan_type,\r\n                updated_at: new Date().toISOString()\r\n            });\r\n        }\r\n    };\r\n\r\n    const renderContent = () => {\r\n        switch (activeTab) {\r\n            case 'dashboard': return <Dashboard trips={trips} vehicles={vehicles} drivers={drivers} shippers={shippers} profile={profile} />;\r\n            case 'trips': return <Trips trips={trips} setTrips={setTrips} onUpdateTrip={handleUpdateTrip} vehicles={vehicles} drivers={drivers} shippers={shippers} profile={profile} />;\r\n            case 'setup': return (\r\n                <Setup\r\n                    vehicles={vehicles}\r\n                    drivers={drivers}\r\n                    shippers={shippers}\r\n                    buggies={buggies}\r\n                    onUpdateVehicles={handleUpdateVehicles}\r\n                    onUpdateDrivers={handleUpdateDrivers}\r\n                    onUpdateShippers={handleUpdateShippers}\r\n                    onUpdateBuggies={handleUpdateBuggies}\r\n                />\r\n            );\r\n            case 'maintenance': return (\r\n                <Suspense fallback={<div>Carregando...</div>}>\r\n                    <FleetHealth vehicles={vehicles} maintenances={maintenances} onAddMaintenance={handleSaveMaintenance} onUpdateMaintenance={() => { }} onUpdateVehicleThresholds={() => { }} />\r\n                </Suspense>\r\n            );\r\n            case 'new-trip': return <NewTrip vehicles={vehicles} drivers={drivers} shippers={shippers} onSave={handleSaveTrip} profile={profile} trips={trips} />;\r\n            case 'settings': return <Settings profile={profile} setProfile={handleUpdateProfile} trips={trips} vehicles={vehicles} drivers={drivers} shippers={shippers} maintenances={maintenances} onImportData={() => { }} onResetData={() => { }} />;\r\n            case 'intelligence': return <StrategicIntelligence trips={trips} vehicles={vehicles} drivers={drivers} shippers={shippers} profile={profile} maintenances={maintenances} tires={tires} buggies={buggies} />;\r\n            case 'tires': return <TireManagement vehicles={vehicles} buggies={buggies} tires={tires} onUpdateTires={(newTires) => setTires(newTires)} />;\r\n            case 'subscription': return <Subscription profile={profile} initialPlanIntent={pendingPlanIntent} onClearIntent={() => setPendingPlanIntent(null)} />;\r\n            case 'admin':\r\n                const isAdmin = ['arthur@ribeirxlog.com', 'arthur.ribeirx@gmail.com'].includes(user?.primaryEmailAddress?.emailAddress?.trim().toLowerCase() || '');\r\n                if (!isAdmin) return <Dashboard trips={trips} vehicles={vehicles} drivers={drivers} shippers={shippers} profile={profile} />;\r\n                return <AdminPanel />;\r\n            default: return <Dashboard trips={trips} vehicles={vehicles} drivers={drivers} shippers={shippers} profile={profile} />;\r\n        }\r\n    };\r\n\r\n    if (!mounted || !isLoaded) {\r\n        return (\r\n            <div className=\"min-h-screen bg-slate-950 flex flex-col items-center justify-center gap-4\">\r\n                <div className=\"w-12 h-12 border-4 border-emerald-500/20 border-t-emerald-500 rounded-full animate-spin\"></div>\r\n                <p className=\"text-emerald-500 font-black text-xs uppercase tracking-[0.2em] animate-pulse\">Sincronizando Clerk...</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!isSignedIn) {\r\n        if (showAuth) {\r\n            return (\r\n                <div className=\"min-h-screen bg-slate-950 flex items-center justify-center relative p-6\">\r\n                    <button\r\n                        onClick={() => setShowAuth(false)}\r\n                        className=\"fixed top-6 left-6 z-50 bg-white/5 hover:bg-white/10 text-white px-4 py-2 rounded-full text-xs font-bold border border-white/10 transition-all\"\r\n                    >\r\n                        ← Voltar para Início\r\n                    </button>\r\n                    <div className=\"w-full max-w-md animate-in fade-in zoom-in-95 duration-500\">\r\n                        {authMode === 'signin' ? (\r\n                            <div className=\"space-y-4\">\r\n                                <SignIn routing=\"hash\" signUpUrl=\"#signup\" />\r\n                                <p className=\"text-center text-xs text-slate-500\">\r\n                                    Não tem conta? <button onClick={() => setAuthMode('signup')} className=\"text-emerald-500 font-bold hover:underline\">Cadastre-se</button>\r\n                                </p>\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"space-y-4\">\r\n                                <SignUp routing=\"hash\" signInUrl=\"#signin\" />\r\n                                <p className=\"text-center text-xs text-slate-500\">\r\n                                    Já tem conta? <button onClick={() => setAuthMode('signin')} className=\"text-emerald-500 font-bold hover:underline\">Faça Login</button>\r\n                                </p>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return <LandingPage onGetStarted={() => setShowAuth(true)} onPurchase={handleLandingPurchase} />;\r\n    }\r\n\r\n    return (\r\n        <AppModeProvider profile={profile}>\r\n            <div className=\"min-h-screen bg-slate-950 text-slate-200\">\r\n                <Sidebar activeTab={activeTab} setActiveTab={setActiveTab} profile={profile} />\r\n                <Header\r\n                    profile={profile}\r\n                    notifications={notifications}\r\n                    onReadNotification={() => { }}\r\n                    setActiveTab={setActiveTab}\r\n                    activeTab={activeTab}\r\n                    onRefresh={() => setRefreshTrigger(prev => prev + 1)}\r\n                />\r\n                <main className=\"md:ml-64 p-4 md:p-8\">\r\n                    <div className=\"max-w-7xl mx-auto pb-24 md:pb-8\">\r\n                        <Suspense fallback={<div>Carregando...</div>}>\r\n                            {renderContent()}\r\n                        </Suspense>\r\n                    </div>\r\n                </main>\r\n\r\n                {/* Toast Notification */}\r\n                {toast && (\r\n                    <div className={`fixed bottom-24 right-8 z-[200] px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-3 animate-in slide-in-from-right-10 duration-500 ${toast.type === 'success' ? 'bg-emerald-500 text-slate-950' :\r\n                        toast.type === 'error' ? 'bg-rose-500 text-white' : 'bg-slate-800 text-white'\r\n                        }`}>\r\n                        {toast.type === 'success' ? <CheckCircle2 className=\"w-5 h-5\" /> : <AlertTriangle className=\"w-5 h-5\" />}\r\n                        <span className=\"font-bold text-sm tracking-tight\">{toast.message}</span>\r\n                    </div>\r\n                )}\r\n\r\n                {/* User Profile Hook Trigger for Logout in Sidebar would be via Clerk UserButton now */}\r\n            </div>\r\n        </AppModeProvider>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}